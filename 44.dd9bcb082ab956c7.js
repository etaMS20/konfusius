"use strict";(self.webpackChunkkonfusius=self.webpackChunkkonfusius||[]).push([[44],{9044:(ee,I,d)=>{d.r(I),d.d(I,{TicketsComponent:()=>te});var r=d(98961),t=d(98244),Q=d(1789),l=d(71303),c=d(73426),p=d(70300),Y=d(78073),S=d(30925),P=d(22862),b=d(69134),g=d(886),f=d(72591),h=d(26364),W=d(23215),v=d(69846);let D=(()=>{var i;class a{set disableControl(e){this.ngControl.control&&this.ngControl.control[e?"disable":"enable"]()}constructor(e){(0,r.A)(this,"ngControl",void 0),this.ngControl=e}}return i=a,(0,r.A)(a,"\u0275fac",function(e){return new(e||i)(t.rXU(c.vO))}),(0,r.A)(a,"\u0275dir",t.FsC({type:i,selectors:[["","disableControl",""]],inputs:{disableControl:"disableControl"}})),a})();var w=d(75011),T=d(93178),U=d(35023),k=d(27649),O=d(59200),H=d(69477),_=(d(98615),d(37536));function Z(i,a){1&i&&t.nrm(0,"div",2)}const J=new t.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let F=(()=>{var i;class a{constructor(){(0,r.A)(this,"_elementRef",(0,t.WQX)(t.aKT)),(0,r.A)(this,"_ngZone",(0,t.WQX)(t.SKi)),(0,r.A)(this,"_changeDetectorRef",(0,t.WQX)(t.gRc)),(0,r.A)(this,"_renderer",(0,t.WQX)(t.sFG)),(0,r.A)(this,"_cleanupTransitionEnd",void 0),(0,r.A)(this,"_animationMode",(0,t.WQX)(t.bc$,{optional:!0})),(0,r.A)(this,"_isNoopAnimation",!1),(0,r.A)(this,"_color",void 0),(0,r.A)(this,"_defaultColor","primary"),(0,r.A)(this,"_value",0),(0,r.A)(this,"_bufferValue",0),(0,r.A)(this,"animationEnd",new t.bkB),(0,r.A)(this,"_mode","determinate"),(0,r.A)(this,"_transitionendHandler",o=>{0===this.animationEnd.observers.length||!o.target||!o.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))});const e=(0,t.WQX)(J,{optional:!0});this._isNoopAnimation="NoopAnimations"===this._animationMode,e&&(e.color&&(this.color=this._defaultColor=e.color),this.mode=e.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(e){this._color=e}get value(){return this._value}set value(e){this._value=R(e||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=R(e||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}}return i=a,(0,r.A)(a,"\u0275fac",function(e){return new(e||i)}),(0,r.A)(a,"\u0275cmp",t.VBU({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(e,o){2&e&&(t.BMQ("aria-valuenow",o._isIndeterminate()?null:o.value)("mode",o.mode),t.HbH("mat-"+o.color),t.AVh("_mat-animation-noopable",o._isNoopAnimation)("mdc-linear-progress--animation-ready",!o._isNoopAnimation)("mdc-linear-progress--indeterminate",o._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",t.Udg],bufferValue:[2,"bufferValue","bufferValue",t.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(e,o){1&e&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.DNE(2,Z,1,0,"div",2),t.k0s(),t.j41(3,"div",3),t.nrm(4,"span",4),t.k0s(),t.j41(5,"div",5),t.nrm(6,"span",4),t.k0s()),2&e&&(t.R7$(),t.xc7("flex-basis",o._getBufferBarFlexBasis()),t.R7$(),t.vxM("buffer"===o.mode?2:-1),t.R7$(),t.xc7("transform",o._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}"],encapsulation:2,changeDetection:0})),a})();function R(i,a=0,n=100){return Math.max(a,Math.min(n,i))}let G=(()=>{var i;class a{}return i=a,(0,r.A)(a,"\u0275fac",function(e){return new(e||i)}),(0,r.A)(a,"\u0275mod",t.$C({type:i})),(0,r.A)(a,"\u0275inj",t.G2t({imports:[_.M]})),a})();var E=d(88520),tt=d(88026),et=d(95892),rt=d(99629),it=d(46427),at=d(36686),ot=d(54281),nt=d(90180);const dt=["input"],st=["formField"],ct=["*"];class B{constructor(a,n){(0,r.A)(this,"source",void 0),(0,r.A)(this,"value",void 0),this.source=a,this.value=n}}const lt={provide:c.kq,useExisting:(0,t.Rfq)(()=>X),multi:!0},V=new t.nKC("MatRadioGroup"),mt=new t.nKC("mat-radio-default-options",{providedIn:"root",factory:function ut(){return{color:"accent",disabledInteractive:!1}}});let X=(()=>{var i;class a{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=e,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markRadiosForCheck()}constructor(){(0,r.A)(this,"_changeDetector",(0,t.WQX)(t.gRc)),(0,r.A)(this,"_value",null),(0,r.A)(this,"_name",(0,t.WQX)(E._).getId("mat-radio-group-")),(0,r.A)(this,"_selected",null),(0,r.A)(this,"_isInitialized",!1),(0,r.A)(this,"_labelPosition","after"),(0,r.A)(this,"_disabled",!1),(0,r.A)(this,"_required",!1),(0,r.A)(this,"_buttonChanges",void 0),(0,r.A)(this,"_controlValueAccessorChangeFn",()=>{}),(0,r.A)(this,"onTouched",()=>{}),(0,r.A)(this,"change",new t.bkB),(0,r.A)(this,"_radios",void 0),(0,r.A)(this,"color",void 0),(0,r.A)(this,"_disabledInteractive",!1)}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(o=>{o.checked=this.value===o.value,o.checked&&(this._selected=o)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new B(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return i=a,(0,r.A)(a,"\u0275fac",function(e){return new(e||i)}),(0,r.A)(a,"\u0275dir",t.FsC({type:i,selectors:[["mat-radio-group"]],contentQueries:function(e,o,s){if(1&e&&t.wni(s,x,5),2&e){let m;t.mGM(m=t.lsd())&&(o._radios=m)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",t.L39],required:[2,"required","required",t.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",t.L39]},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[t.Jv_([lt,{provide:V,useExisting:i}])]})),a})(),x=(()=>{var i;class a{get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(e){this._color=e}get disabledInteractive(){return this._disabledInteractive||null!==this.radioGroup&&this.radioGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(){(0,r.A)(this,"_elementRef",(0,t.WQX)(t.aKT)),(0,r.A)(this,"_changeDetector",(0,t.WQX)(t.gRc)),(0,r.A)(this,"_focusMonitor",(0,t.WQX)(tt.d)),(0,r.A)(this,"_radioDispatcher",(0,t.WQX)(et.U)),(0,r.A)(this,"_defaultOptions",(0,t.WQX)(mt,{optional:!0})),(0,r.A)(this,"_ngZone",(0,t.WQX)(t.SKi)),(0,r.A)(this,"_renderer",(0,t.WQX)(t.sFG)),(0,r.A)(this,"_uniqueId",(0,t.WQX)(E._).getId("mat-radio-")),(0,r.A)(this,"_cleanupClick",void 0),(0,r.A)(this,"id",this._uniqueId),(0,r.A)(this,"name",void 0),(0,r.A)(this,"ariaLabel",void 0),(0,r.A)(this,"ariaLabelledby",void 0),(0,r.A)(this,"ariaDescribedby",void 0),(0,r.A)(this,"disableRipple",!1),(0,r.A)(this,"tabIndex",0),(0,r.A)(this,"_labelPosition",void 0),(0,r.A)(this,"_color",void 0),(0,r.A)(this,"_disabledInteractive",void 0),(0,r.A)(this,"change",new t.bkB),(0,r.A)(this,"radioGroup",void 0),(0,r.A)(this,"_checked",!1),(0,r.A)(this,"_disabled",void 0),(0,r.A)(this,"_required",void 0),(0,r.A)(this,"_value",null),(0,r.A)(this,"_removeUniqueSelectionListener",()=>{}),(0,r.A)(this,"_previousTabIndex",void 0),(0,r.A)(this,"_inputElement",void 0),(0,r.A)(this,"_rippleTrigger",void 0),(0,r.A)(this,"_noopAnimations",void 0),(0,r.A)(this,"_injector",(0,t.WQX)(t.zZn)),(0,r.A)(this,"_onInputClick",m=>{this.disabled&&this.disabledInteractive&&m.preventDefault()}),(0,t.WQX)(rt._).load(it._);const e=(0,t.WQX)(V,{optional:!0}),o=(0,t.WQX)(t.bc$,{optional:!0}),s=(0,t.WQX)(new t.ES_("tabindex"),{optional:!0});this.radioGroup=e,this._noopAnimations="NoopAnimations"===o,this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,s&&(this.tabIndex=(0,t.Udg)(s,0))}focus(e,o){o?this._focusMonitor.focusVia(this._inputElement,o,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,o)=>{e!==this.id&&o===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new B(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const o=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),o&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let o;if(o=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,o!==this._previousTabIndex){const s=this._inputElement?.nativeElement;s&&(s.setAttribute("tabindex",o+""),this._previousTabIndex=o,(0,t.mal)(()=>{queueMicrotask(()=>{e&&e.selected&&e.selected!==this&&document.activeElement===s&&(e.selected?._inputElement.nativeElement.focus(),document.activeElement===s&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}}return i=a,(0,r.A)(a,"\u0275fac",function(e){return new(e||i)}),(0,r.A)(a,"\u0275cmp",t.VBU({type:i,selectors:[["mat-radio-button"]],viewQuery:function(e,o){if(1&e&&(t.GBs(dt,5),t.GBs(st,7,t.aKT)),2&e){let s;t.mGM(s=t.lsd())&&(o._inputElement=s.first),t.mGM(s=t.lsd())&&(o._rippleTrigger=s.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(e,o){1&e&&t.bIt("focus",function(){return o._inputElement.nativeElement.focus()}),2&e&&(t.BMQ("id",o.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),t.AVh("mat-primary","primary"===o.color)("mat-accent","accent"===o.color)("mat-warn","warn"===o.color)("mat-mdc-radio-checked",o.checked)("mat-mdc-radio-disabled",o.disabled)("mat-mdc-radio-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",t.L39],tabIndex:[2,"tabIndex","tabIndex",n=>null==n?0:(0,t.Udg)(n)],checked:[2,"checked","checked",t.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",t.L39],required:[2,"required","required",t.L39],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",t.L39]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:ct,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(e,o){if(1&e){const s=t.RV6();t.NAR(),t.j41(0,"div",2,0)(2,"div",3)(3,"div",4),t.bIt("click",function(A){return t.eBV(s),t.Njj(o._onTouchTargetClick(A))}),t.k0s(),t.j41(4,"input",5,1),t.bIt("change",function(A){return t.eBV(s),t.Njj(o._onInputInteraction(A))}),t.k0s(),t.j41(6,"div",6),t.nrm(7,"div",7)(8,"div",8),t.k0s(),t.j41(9,"div",9),t.nrm(10,"div",10),t.k0s()(),t.j41(11,"label",11),t.SdG(12),t.k0s()()}2&e&&(t.Y8G("labelPosition",o.labelPosition),t.R7$(2),t.AVh("mdc-radio--disabled",o.disabled),t.R7$(2),t.Y8G("id",o.inputId)("checked",o.checked)("disabled",o.disabled&&!o.disabledInteractive)("required",o.required),t.BMQ("name",o.name)("value",o.value)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby)("aria-disabled",o.disabled&&o.disabledInteractive?"true":null),t.R7$(5),t.Y8G("matRippleTrigger",o._rippleTrigger.nativeElement)("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",!0),t.R7$(2),t.Y8G("for",o.inputId))},dependencies:[at.M,ot._],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px);top:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})),a})(),pt=(()=>{var i;class a{}return i=a,(0,r.A)(a,"\u0275fac",function(e){return new(e||i)}),(0,r.A)(a,"\u0275mod",t.$C({type:i})),(0,r.A)(a,"\u0275inj",t.G2t({imports:[_.M,nt.M,x,_.M]})),a})();var M=d(38928);function ht(i,a){if(1&i&&(t.j41(0,"mat-radio-button",3),t.nrm(1,"span",4),t.nI1(2,"safeHtml"),t.k0s()),2&i){const n=a.$implicit,e=t.XpG();t.Y8G("value",n.id)("disableControl",e.disableOptionsForm()),t.R7$(),t.Y8G("innerHTML",t.bMT(2,3,n.description),t.npT)}}let gt=(()=>{var i;class a{constructor(){(0,r.A)(this,"crossSaleProductSelected",new t.bkB),(0,r.A)(this,"crossSaleItems",[]),(0,r.A)(this,"disableOptionsForm",t.hFB.required()),(0,r.A)(this,"destroy$",new g.B),(0,r.A)(this,"fb",(0,t.WQX)(c.ok)),(0,r.A)(this,"optionsForm",this.fb.group({variationId:new c.MJ(M.aj.KONFUSIUS,[c.k0.required])}))}ngOnInit(){this.onSelectionChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSelectionChange(){this.crossSaleProductSelected.emit(this.optionsForm.value.variationId)}}return i=a,(0,r.A)(a,"\u0275fac",function(e){return new(e||i)}),(0,r.A)(a,"\u0275cmp",t.VBU({type:i,selectors:[["app-cross-sale-options"]],inputs:{crossSaleItems:"crossSaleItems",disableOptionsForm:[1,"disableOptionsForm"]},outputs:{crossSaleProductSelected:"crossSaleProductSelected"},decls:3,vars:2,consts:[[1,"options-wrapper"],[1,"options-group","slimline",3,"change","formControl"],[3,"value","disableControl",4,"ngFor","ngForOf"],[3,"value","disableControl"],[1,"radio-label",3,"innerHTML"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"mat-radio-group",1),t.bIt("change",function(){return o.onSelectionChange()}),t.DNE(2,ht,3,5,"mat-radio-button",2),t.k0s()()),2&e&&(t.R7$(),t.Y8G("formControl",o.optionsForm.controls.variationId),t.R7$(),t.Y8G("ngForOf",o.crossSaleItems))},dependencies:[pt,X,x,l.D,l.G,c.X1,c.BC,c.l_,k.$,D],styles:[".options-wrapper[_ngcontent-%COMP%]{margin:auto}@media (max-width: 700px){.options-wrapper[_ngcontent-%COMP%]{margin:.25rem auto}}.options-group[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}"],changeDetection:0})),a})();var C=d(44535),_t=d(34860);function bt(i,a){1&i&&(t.j41(0,"div"),t.nrm(1,"mat-progress-bar",11),t.k0s())}function ft(i,a){1&i&&(t.j41(0,"mat-error"),t.EFF(1,"Zeit ist f\xfcr diese Schicht notwendig"),t.k0s())}function vt(i,a){if(1&i&&(t.j41(0,"mat-option",15),t.nrm(1,"span",16),t.nI1(2,"safeHtml"),t.k0s()),2&i){const n=a.$implicit;t.Y8G("value",n.id),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.variation),t.npT)}}function Ct(i,a){if(1&i&&(t.j41(0,"div")(1,"mat-form-field",12)(2,"mat-label"),t.EFF(3,"W\xe4hle eine Zeit"),t.k0s(),t.DNE(4,ft,2,0,"mat-error",2),t.j41(5,"mat-select",13),t.DNE(6,vt,3,4,"mat-option",14),t.k0s()()()),2&i){const n=t.XpG(2);t.R7$(),t.Y8G("matTooltipDisabled",0!==n.productVariations.length),t.R7$(3),t.Y8G("ngIf",n.selectForm.invalid),t.R7$(),t.Y8G("formControl",n.selectForm.controls.variationId)("required",n.isProductVariable)("disableControl",0===n.productVariations.length),t.R7$(),t.Y8G("ngForOf",n.productVariations)}}function yt(i,a){if(1&i){const n=t.RV6();t.j41(0,"app-cross-sale-options",17),t.bIt("crossSaleProductSelected",function(o){t.eBV(n);const s=t.XpG(2);return t.Njj(s.onCrossSaleSelected(o))}),t.k0s()}if(2&i){const n=t.XpG(2);t.Y8G("crossSaleItems",n.crossSaleItems())("disableOptionsForm",n.disableCrossSale())}}function kt(i,a){if(1&i){const n=t.RV6();t.j41(0,"div",1),t.DNE(1,bt,2,0,"div",2),t.nI1(2,"async"),t.j41(3,"div",3)(4,"div",4)(5,"h4"),t.EFF(6),t.k0s(),t.j41(7,"p"),t.EFF(8),t.k0s()(),t.j41(9,"div",5),t.DNE(10,Ct,7,6,"div",2)(11,yt,1,2,"app-cross-sale-options",6),t.k0s(),t.j41(12,"div",7)(13,"div",8)(14,"button",9),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.checkout())}),t.j41(15,"span",10),t.EFF(16,"Weiter zum Checkout"),t.k0s()()()()()()}if(2&i){const n=t.XpG();t.R7$(),t.Y8G("ngIf",t.bMT(2,7,n.loadingCheckout$)),t.R7$(5),t.SpI("Schicht: ",n.product().name,""),t.R7$(2),t.SpI(" Regul\xe4rer Preis: ",n.formattedPrice," "),t.R7$(2),t.Y8G("ngIf",n.isProductVariable),t.R7$(),t.vxM(n.crossSaleItems()?11:-1),t.R7$(2),t.Y8G("matTooltipDisabled",n.isCheckoutValid),t.R7$(),t.Y8G("disabled",!n.isCheckoutValid)}}let xt=(()=>{var i;class a{constructor(){(0,r.A)(this,"product",t.hFB.required()),(0,r.A)(this,"isProductVariable",void 0),(0,r.A)(this,"productVariations",[]),(0,r.A)(this,"loadingCheckout$",new g.B),(0,r.A)(this,"destroy$",new g.B),(0,r.A)(this,"wcStore",(0,t.WQX)(T.q)),(0,r.A)(this,"fb",(0,t.WQX)(c.ok)),(0,r.A)(this,"errorService",(0,t.WQX)(w.I)),(0,r.A)(this,"router",(0,t.WQX)(U.t)),(0,r.A)(this,"selectForm",this.fb.group({variationId:new c.MJ(null,[c.k0.required])})),(0,r.A)(this,"crossSaleItems",(0,t.hFB)([])),(0,r.A)(this,"selectedCossSaleItemId",(0,t.vPA)(M.aj.KONFUSIUS)),(0,r.A)(this,"disableCrossSale",(0,t.vPA)(!0))}ngOnInit(){this.selectForm.controls.variationId.statusChanges.pipe((0,h.Q)(this.destroy$)).subscribe(e=>{this.disableCrossSale.set("VALID"!==e)})}ngOnChanges(e){e.product&&this.selectForm&&(this.selectForm.controls.variationId.setValidators(this.isProductVariable?[c.k0.required]:[]),this.selectForm.controls.variationId.markAsPending(),this.selectForm.controls.variationId.reset(null,{emitEvent:!0}),this.disableCrossSale.set(!this.isCheckoutValid))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onVariationSelected(e){this.disableCrossSale.set(null===e.value)}get formattedPrice(){const e=this.product();return e?e.prices.price_range?(0,O.Y)(e.prices.price_range,e.prices.currency_thousand_separator,e.prices.currency_decimal_separator,e.prices.currency_minor_unit,e.prices.currency_symbol):(0,O.$)(e.prices.price,e.prices.currency_thousand_separator,e.prices.currency_decimal_separator,e.prices.currency_minor_unit,e.prices.currency_symbol):""}get isCheckoutValid(){return this.isProductVariable?this.selectForm.valid:this.product()?.is_in_stock??!1}onCrossSaleSelected(e){this.selectedCossSaleItemId.set(e)}checkout(){const e=this.isProductVariable?this.selectForm.get("variationId").value:this.product()?.id;if(e){const o=[e,this.selectedCossSaleItemId()];this.wcStore.deleteAllCartItems().pipe((0,H.W)(this.loadingCheckout$),(0,W.H)(()=>this.wcStore.batchItemsToCart(o)),(0,v.W)(s=>(this.errorService.handleError(s),(0,f.$)(()=>s))),(0,h.Q)(this.destroy$)).subscribe({complete:()=>{this.router.navigate(["/checkout"])}})}}}return i=a,(0,r.A)(a,"\u0275fac",function(e){return new(e||i)}),(0,r.A)(a,"\u0275cmp",t.VBU({type:i,selectors:[["app-product-details"]],inputs:{product:[1,"product"],isProductVariable:"isProductVariable",productVariations:"productVariations",crossSaleItems:[1,"crossSaleItems"]},features:[t.OA$],decls:1,vars:1,consts:[["class","checkout",4,"ngIf"],[1,"checkout"],[4,"ngIf"],[1,"checkout-content"],[1,"left-container"],[1,"middle-container"],[3,"crossSaleItems","disableOptionsForm"],[1,"right-container"],["matTooltip","Schicht / Zeit nicht mehr verf\xfcgbar",1,"checkout-button-row",3,"matTooltipDisabled"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"checkout-label"],["mode","query"],["appearance","outline","matTooltip","Es sind leider keine Zeiten mehr f\xfcr diese Schicht verf\xfcgbar","subscriptSizing","dynamic",1,"slimline",3,"matTooltipDisabled"],["panelWidth","auto",3,"formControl","required","disableControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"innerHTML"],[3,"crossSaleProductSelected","crossSaleItems","disableOptionsForm"]],template:function(e,o){1&e&&t.DNE(0,kt,17,9,"div",0),2&e&&t.Y8G("ngIf",o.product)},dependencies:[l.D,l.G,l.I,l.V,S.M,C.k,C.b,C.d,P.a,P.M,_t.a,Y.w,p.h,p.M,b.a,b.M,c.X1,c.BC,c.YS,c.l_,D,k.$,G,F,gt],styles:["[_nghost-%COMP%]{--footer-height-desktop: 90px;--footer-height-mobile: 200px}.checkout[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:#f8f9fa;padding:.5rem 1rem;box-shadow:0 -2px 5px #0000001a;z-index:50;box-sizing:border-box;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.checkout-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr 1fr;align-items:center;max-width:1400px;margin:0 auto}@media (max-width: 700px){.checkout-content[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-rows:auto auto}}.checkout-content[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.1rem;font-weight:500}.checkout-content[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8rem;color:#555}@media (max-width: 700px){.checkout-content[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{grid-row:1;text-align:center;margin-bottom:8px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;height:100%}.checkout-content[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:.9rem}}@media (max-width: 700px){.checkout-content[_ngcontent-%COMP%]   .middle-container[_ngcontent-%COMP%]{grid-row:2;width:100%}}.checkout-content[_ngcontent-%COMP%]   .middle-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.checkout-content[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}@media (max-width: 700px){.checkout-content[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]{grid-row:3;justify-content:center}}.checkout-content[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   .checkout-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:180px}.checkout-content[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   .checkout-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .checkout-label[_ngcontent-%COMP%]{font-size:1rem;white-space:nowrap}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.checkout-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:4px;transition:all .2s ease}.checkout-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.7}.slimline[_ngcontent-%COMP%]{--mdc-outlined-text-field-outline-color: rgba(0, 0, 255, .575);--mdc-outlined-text-field-outline-width: 2px}"],changeDetection:0})),a})();var y=function(i){return i.VARIABLE="variable",i.SIMPLE="simple",i}(y||{});const Mt={[y.VARIABLE]:"Schicht mit variablen Zeiten",[y.SIMPLE]:"Einfache Schicht"};var At=d(1134);const It=["*"],Tt=new t.nKC("MAT_CARD_CONFIG");let j=(()=>{var i;class a{constructor(){(0,r.A)(this,"appearance",void 0);const e=(0,t.WQX)(Tt,{optional:!0});this.appearance=e?.appearance||"raised"}}return i=a,(0,r.A)(a,"\u0275fac",function(e){return new(e||i)}),(0,r.A)(a,"\u0275cmp",t.VBU({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,o){2&e&&t.AVh("mat-mdc-card-outlined","outlined"===o.appearance)("mdc-card--outlined","outlined"===o.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:It,decls:1,vars:0,template:function(e,o){1&e&&(t.NAR(),t.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})),a})(),Ot=(()=>{var i;class a{}return i=a,(0,r.A)(a,"\u0275fac",function(e){return new(e||i)}),(0,r.A)(a,"\u0275mod",t.$C({type:i})),(0,r.A)(a,"\u0275inj",t.G2t({imports:[_.M,_.M]})),a})();var Ft=d(30097),Rt=d(17921);function Gt(i,a){if(1&i&&(t.j41(0,"span",2),t.EFF(1),t.k0s()),2&i){const n=a.ngIf;t.AVh("in-stock",n.is_in_stock)("out-of-stock",!n.is_in_stock),t.R7$(),t.SpI(" ",n.is_in_stock?"in-stock":"out-of-stock"," ")}}let Et=(()=>{var i;class a{constructor(){(0,r.A)(this,"product",t.hFB.required())}}return i=a,(0,r.A)(a,"\u0275fac",function(e){return new(e||i)}),(0,r.A)(a,"\u0275cmp",t.VBU({type:i,selectors:[["app-stock-check"]],inputs:{product:[1,"product"]},decls:2,vars:1,consts:[[1,"status-container"],["class","stock-status",3,"in-stock","out-of-stock",4,"ngIf"],[1,"stock-status"]],template:function(e,o){1&e&&(t.j41(0,"div",0),t.DNE(1,Gt,2,5,"span",1),t.k0s()),2&e&&(t.R7$(),t.Y8G("ngIf",o.product()))},dependencies:[l.D,l.I],styles:[".stock-status[_ngcontent-%COMP%]{padding:.2rem 0;border-radius:.5rem;font-size:.65rem;position:absolute;top:5px;right:5px}.stock-status.out-of-stock[_ngcontent-%COMP%]{background-color:#ececec;color:#696969}.stock-status.in-stock[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}@media (max-width: 1000px){.stock-status[_ngcontent-%COMP%]{font-size:.6rem}}"],changeDetection:0})),a})();var Bt=d(36888);const Vt=i=>({selected:i});function Xt(i,a){if(1&i){const n=t.RV6();t.j41(0,"mat-card",2),t.bIt("click",function(o){t.eBV(n);const s=t.XpG();return t.Njj(s.onProductSelect(o))})("keydown",function(o){t.eBV(n);const s=t.XpG();return t.Njj(s.onProductSelect(o))}),t.nrm(1,"app-stock-check",3)(2,"img",4),t.j41(3,"h3",5),t.EFF(4),t.k0s(),t.j41(5,"button",6),t.bIt("click",function(o){t.eBV(n);const s=t.XpG();return t.Njj(s.openDetailsDialog(o))}),t.EFF(6," Beschreibung "),t.k0s()()}if(2&i){const n=t.XpG();t.FS9("matTooltip",n.productTooltip()),t.Y8G("ngClass",t.eq3(8,Vt,n.isSelectedSignal()))("matTooltipPosition","above"),t.R7$(),t.Y8G("product",n.product),t.R7$(),t.Y8G("src",n.product.images[0].thumbnail,t.B4B)("srcset",n.product.images[0].srcset)("alt",n.product.images[0].alt),t.R7$(2),t.JRh(n.product.name)}}let jt=(()=>{var i;class a{constructor(e){(0,r.A)(this,"dialog",void 0),(0,r.A)(this,"product",void 0),(0,r.A)(this,"selectedProductId",void 0),(0,r.A)(this,"productSelected",new t.bkB),(0,r.A)(this,"isSelectedSignal",(0,t.vPA)(this.isProductSelected())),(0,r.A)(this,"productTooltip",(0,t.EWP)(()=>this.product?.type?Mt[this.product.type]:"")),this.dialog=e}isProductSelected(){return this.selectedProductId===this.product?.id}ngOnInit(){this.isSelectedSignal.set(this.isProductSelected())}ngOnChanges(e){e.selectedProductId&&this.isSelectedSignal.set(this.isProductSelected())}onProductSelect(e){if(e.stopPropagation(),e instanceof KeyboardEvent){const o=e.key.toLowerCase();if("escape"===o)return void this.productSelected.emit(null);if("enter"!==o&&" "!==o)return;e.preventDefault()}this.isProductSelected()?this.productSelected.emit(null):this.productSelected.emit(this.product?.id)}openDetailsDialog(e){e.stopPropagation(),this.dialog.open(Rt.c,{data:{title:this.product?.name,content:this.product?.description,imageMeta:{src:this.product?.images[0].src}},width:"60vw",height:"70vh",maxWidth:"800px",maxHeight:"800px",minWidth:"350px"})}}return i=a,(0,r.A)(a,"\u0275fac",function(e){return new(e||i)(t.rXU(Bt.j))}),(0,r.A)(a,"\u0275cmp",t.VBU({type:i,selectors:[["product"]],inputs:{product:"product",selectedProductId:"selectedProductId"},outputs:{productSelected:"productSelected"},features:[t.OA$],decls:2,vars:1,consts:[[1,"card-container"],["matTooltipHideDelay","200","matTooltipShowDelay","100","tabindex","0",1,"product-card",3,"ngClass","matTooltip","matTooltipPosition"],["matTooltipHideDelay","200","matTooltipShowDelay","100","tabindex","0",1,"product-card",3,"click","keydown","ngClass","matTooltip","matTooltipPosition"],[3,"product"],["sizes","(max-width: 600px) 100vw, (max-width: 1024px) 80vw, 1728px",1,"product-image",3,"src","srcset","alt"],[1,"product-title"],["mat-raised-button","",1,"select-button",3,"click"]],template:function(e,o){1&e&&(t.j41(0,"div",0),t.DNE(1,Xt,7,10,"mat-card",1),t.k0s()),2&e&&(t.R7$(),t.vxM(o.product?1:-1))},dependencies:[Ot,j,Ft.MY,l.D,l.E,b.a,b.M,p.h,p.M,Et],styles:["[_nghost-%COMP%]{width:100%;height:100%}.card-container[_ngcontent-%COMP%]{width:100%}  .product-card{flex:1 1 auto;min-height:0;min-width:0;display:block;flex-direction:column;width:100%;height:100%;transition:all .3s ease;box-shadow:0 2px 4px #0000001a;justify-content:space-between;touch-action:auto;cursor:pointer}  .product-card:hover{transform:translateY(-5px);box-shadow:0 4px 8px #00000080}  .product-card.selected{background:linear-gradient(135deg,#6bf7f7,#0056b3);color:#fff}@media (min-width: 700px){  .product-card{padding:1rem}}.product-image[_ngcontent-%COMP%]{width:100%;height:auto;max-height:200px;object-fit:contain;display:block;margin-bottom:12px;border-radius:.5rem;box-shadow:0 1px 2px #0000000d}@media (max-width: 700px){.product-image[_ngcontent-%COMP%]{padding:.5rem 1rem}}.product-title[_ngcontent-%COMP%]{text-align:center;margin:12px 0;font-size:1rem;font-weight:700;width:100%;overflow:hidden;word-wrap:break-word;box-sizing:border-box}@media (max-width: 700px){.product-title[_ngcontent-%COMP%]{font-size:.9rem;margin:0}}@media (max-width: 700px){.select-button[_ngcontent-%COMP%]{min-width:unset!important}}"]})),a})();var u=d(57237),$=d(52619),z=d(50081),$t=d(85675),zt=d(27333);let Lt=(()=>{var i;class a{constructor(){(0,r.A)(this,"isTouchDevice$",new zt.t(!1)),(0,r.A)(this,"touchMediaQuery",void 0),this.touchMediaQuery=window.matchMedia("(pointer: coarse)"),this.detectTouchDevice(),this.touchMediaQuery.addEventListener("change",this.detectTouchDevice.bind(this))}detectTouchDevice(){this.isTouchDevice$.next(this.touchMediaQuery.matches)}get isTouchDevice(){return this.isTouchDevice$.asObservable()}ngOnDestroy(){this.touchMediaQuery.removeEventListener("change",this.detectTouchDevice.bind(this))}}return i=a,(0,r.A)(a,"\u0275fac",function(e){return new(e||i)}),(0,r.A)(a,"\u0275prov",t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})),a})();var L=d(80382),N=d(72783);function Nt(i,a){1&i&&(t.nrm(0,"div",3),t.nI1(1,"safeHtml")),2&i&&t.Y8G("innerHTML",t.bMT(1,1,a),t.npT)}function Qt(i,a){1&i&&(t.j41(0,"mat-error"),t.EFF(1," Die Best\xe4tigung ist erforderlich. "),t.k0s())}function Yt(i,a){if(1&i&&t.nrm(0,"textarea",11),2&i){const n=t.XpG();t.Y8G("placeholder",n.disclaimer().textbox_content)}}let Wt=(()=>{var i;class a{constructor(e){(0,r.A)(this,"fb",void 0),(0,r.A)(this,"formG",void 0),(0,r.A)(this,"deviceService",(0,t.WQX)(Lt)),(0,r.A)(this,"lsService",(0,t.WQX)(N.s)),(0,r.A)(this,"disclaimer",t.hFB.required()),(0,r.A)(this,"currentStore",(0,t.vPA)(this.lsService.getItem(u.e.DISC_STATE)??{})),(0,r.A)(this,"product",t.hFB.required()),(0,r.A)(this,"abortDisclaimer",new t.bkB),(0,r.A)(this,"submitDisclaimer",new t.bkB),(0,r.A)(this,"destroy$",new g.B),this.fb=e,(0,t.QZP)(()=>{this.formG.controls.understood.setValue(!1),this.formG.controls.experience.setValue((0,L.P)(this.currentStore(),this.product().sku)?.experience),this.formG.controls.understood.markAllAsTouched()})}ngOnInit(){this.deviceService.isTouchDevice.pipe((0,h.Q)(this.destroy$)).subscribe(e=>{document.body.style.overflow=e?"hidden":""}),this.formG=this.fb.group({understood:new c.MJ(!1,{nonNullable:!0,validators:[c.k0.requiredTrue]}),experience:new c.MJ(void 0,{nonNullable:!0,validators:[c.k0.maxLength(300)]})})}ngOnDestroy(){document.body.style.overflow="",this.destroy$.next(),this.destroy$.complete()}onSubmit(){if(this.formG.valid){const e=this.currentStore()||{};this.lsService.setItem(u.e.DISC_STATE,Object.assign(e,{[this.product().sku]:this.formG.value})),this.submitDisclaimer.emit(!0)}}onClose(e){e.stopPropagation();const o=this.currentStore()||{};this.formG.reset(),this.lsService.setItem(u.e.DISC_STATE,Object.assign(o,{[this.product().sku]:this.formG.value})),this.abortDisclaimer.emit()}hasError(e,o){return e.hasError(o)&&e.touched}get understood(){return this.formG.controls.understood}}return i=a,(0,r.A)(a,"\u0275fac",function(e){return new(e||i)(t.rXU(c.ok))}),(0,r.A)(a,"\u0275cmp",t.VBU({type:i,selectors:[["app-disclaimer"]],inputs:{disclaimer:[1,"disclaimer"],product:[1,"product"]},outputs:{abortDisclaimer:"abortDisclaimer",submitDisclaimer:"submitDisclaimer"},decls:20,vars:5,consts:[["tabindex","-2",1,"disclaimer-container"],[1,"billing_address",3,"ngSubmit","formGroup"],[1,"disclaimer-content"],[1,"disclaimer-text",3,"innerHTML"],[1,"disclaimer-checkbox"],["formControlName","understood","labelPosition","after"],[4,"ngIf"],["id","experience","formControlName","experience","rows","4","maxlength","300",3,"placeholder",4,"ngIf"],[1,"button-section"],["mat-raised-button","","type","submit",1,"slimline","submit-button",3,"disabled"],["mat-raised-button","","type","button",1,"slimline",3,"click"],["id","experience","formControlName","experience","rows","4","maxlength","300",3,"placeholder"]],template:function(e,o){if(1&e&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return o.onSubmit()}),t.j41(2,"div",2)(3,"h4"),t.EFF(4,"Disclaimer:"),t.k0s(),t.DNE(5,Nt,2,3,"div",3),t.j41(6,"div",4),t.nrm(7,"mat-checkbox",5),t.EFF(8," Ich habe den Hinweis verstanden "),t.DNE(9,Qt,2,0,"mat-error",6),t.k0s(),t.DNE(10,Yt,1,1,"textarea",7),t.j41(11,"div",8)(12,"button",9)(13,"mat-icon"),t.EFF(14,"check"),t.k0s(),t.EFF(15," OK "),t.k0s(),t.j41(16,"button",10),t.bIt("click",function(m){return o.onClose(m)}),t.j41(17,"mat-icon"),t.EFF(18,"close"),t.k0s(),t.EFF(19," Lieber nicht "),t.k0s()()()()()),2&e){let s,m;t.R7$(),t.Y8G("formGroup",o.formG),t.R7$(4),t.vxM((s=o.disclaimer().content)?5:-1,s),t.R7$(4),t.Y8G("ngIf",o.hasError(o.understood,"required")),t.R7$(),t.Y8G("ngIf",null==(m=o.disclaimer())?null:m.textbox_content),t.R7$(2),t.Y8G("disabled",o.formG.invalid)}},dependencies:[l.D,l.I,c.X1,c.qT,c.me,c.BC,c.cb,c.tU,c.j4,c.JD,p.h,p.M,C.d,S.M,z.g7,z.So,k.$,$t.d],styles:[".disclaimer-container[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;min-height:min(20vh,150px);max-height:80vh;background-color:#f5f5f5;padding:.5rem 10vw;box-shadow:0 4px 8px #00000080;z-index:999;box-sizing:border-box;display:block;overflow-y:scroll;touch-action:auto}@media (max-width: 700px){.disclaimer-container[_ngcontent-%COMP%]{min-height:min(40vh,300px);padding:.2rem}}@media (max-width: 1000px){.disclaimer-container[_ngcontent-%COMP%]{padding:.5rem}}.disclaimer-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;width:100%;height:auto;margin:auto;padding:.5rem;border:1px solid #e0e0e0;border-radius:5px;background-color:#fff7f7;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.disclaimer-text[_ngcontent-%COMP%]{display:block;width:100%}.disclaimer-checkbox[_ngcontent-%COMP%]{display:flex;justify-content:left;align-items:center;width:100%;gap:.5rem;margin-bottom:.5rem}.button-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-top:.5rem}textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border-radius:5px;border:1px solid #ccc;font-size:.8rem;resize:none;margin:.5rem auto}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}"],changeDetection:0})),a})();function Ut(i,a){1&i&&(t.j41(0,"div"),t.nrm(1,"mat-progress-bar",9),t.k0s())}function Ht(i,a){if(1&i){const n=t.RV6();t.j41(0,"div",10)(1,"product",11),t.bIt("productSelected",function(o){t.eBV(n);const s=t.XpG();return t.Njj(s.onProductSelected(o))}),t.k0s()()}if(2&i){const n=a.$implicit,e=t.XpG();t.R7$(),t.Y8G("product",n)("selectedProductId",e.currentSelectedId)}}function Kt(i,a){if(1&i){const n=t.RV6();t.j41(0,"app-disclaimer",13),t.bIt("abortDisclaimer",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.onCloseDisclaimer())})("submitDisclaimer",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.onDisclaimerSubmit())}),t.k0s()}if(2&i){const n=a.ngIf,e=t.XpG();t.Y8G("disclaimer",e)("product",n)}}function Zt(i,a){if(1&i&&t.DNE(0,Kt,1,2,"app-disclaimer",12),2&i){const n=t.XpG();t.Y8G("ngIf",a.content&&n.showDisclaimer&&n.selectedProduct())}}function Jt(i,a){if(1&i&&t.nrm(0,"app-product-details",7),2&i){const n=t.XpG();t.Y8G("product",a)("isProductVariable",!n.currentSelectedSingle)("productVariations",n.selectedProductVariations())("crossSaleItems",n.crossSaleProducts())}}function qt(i,a){1&i&&(t.j41(0,"div",14),t.nrm(1,"mat-spinner",15),t.k0s()),2&i&&(t.R7$(),t.Y8G("diameter",35))}let te=(()=>{var i;class a{constructor(){(0,r.A)(this,"mappingService",(0,t.WQX)(At.M)),(0,r.A)(this,"errorService",(0,t.WQX)(w.I)),(0,r.A)(this,"wcStore",(0,t.WQX)(T.q)),(0,r.A)(this,"lsService",(0,t.WQX)(N.s)),(0,r.A)(this,"listVariations",["instock"]),(0,r.A)(this,"currentSelectedId",void 0),(0,r.A)(this,"currentSelectedSingle",void 0),(0,r.A)(this,"currentSelectedSKU",void 0),(0,r.A)(this,"showDisclaimer",!0),(0,r.A)(this,"viewLoading",!0),(0,r.A)(this,"productsLoading",(0,t.vPA)(!1)),(0,r.A)(this,"destroy$",new g.B),(0,r.A)(this,"selectedProductId$",this.lsService.getItem$(u.e.PRD_SEL_ID)),(0,r.A)(this,"products",(0,t.vPA)([])),(0,r.A)(this,"crossSaleProducts",(0,t.vPA)([])),(0,r.A)(this,"selectedProduct",(0,t.vPA)(void 0)),(0,r.A)(this,"selectedProductVariations",(0,t.vPA)([])),(0,r.A)(this,"selectedProdDisclaimer",(0,t.EWP)(()=>{const e=this.selectedProduct();return e?(0,L.K)(e):void 0})),(0,r.A)(this,"singleProductSet",(0,t.EWP)(()=>new Set(this.products().filter(e=>e.type!==y.VARIABLE).map(e=>e.id))))}ngAfterViewInit(){this.viewLoading=!1}ngOnInit(){this.queryCrossSaleOptions(),this.initProducts().subscribe(e=>{const o=e.map(s=>this.mappingService.mapProduct(s));this.products.set(o),this.selectedProductId$.pipe((0,h.Q)(this.destroy$)).subscribe(s=>{this.selectedProductVariations.set([]),this.showDisclaimer=!0,this.currentSelectedId=s,this.currentSelectedSingle=void 0!==s&&this.singleProductSet().has(s),this.selectProduct(s)})})}queryCrossSaleOptions(){this.productsLoading.set(!0),this.wcStore.listProducts(M.jN).pipe((0,v.W)(e=>(this.errorService.handleError(e),(0,f.$)(()=>e))),(0,h.Q)(this.destroy$)).subscribe(e=>{this.crossSaleProducts.set(e),this.productsLoading.set(!1)})}getSelectedProduct(e){return this.products().find(o=>o.id===e)}selectProduct(e){this.selectedProduct.set(this.getSelectedProduct(e)),e&&(this.productsLoading.set(!0),this.currentSelectedSingle?this.productsLoading.set(!1):this.wcStore.listProductVariations(e,this.listVariations).pipe((0,h.Q)(this.destroy$),(0,v.W)(o=>(this.productsLoading.set(!1),this.errorService.handleError(o),(0,f.$)(()=>o)))).subscribe(o=>{this.selectedProductVariations.set(o.length>0?o:[]),this.productsLoading.set(!1)}))}get getProductCat(){return this.lsService.getItem(u.e.USER_PRODUCT_CAT)??22}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onProductSelected(e){null===e?(this.selectedProduct.set(void 0),this.lsService.removeItem(u.e.PRD_SEL_ID)):this.lsService.setItem(u.e.PRD_SEL_ID,e)}onCloseDisclaimer(){this.lsService.removeItem(u.e.PRD_SEL_ID)}onDisclaimerSubmit(){this.showDisclaimer=!1}initProducts(){return this.wcStore.listProducts(this.getProductCat).pipe((0,h.Q)(this.destroy$),(0,v.W)(e=>(this.productsLoading.set(!1),this.errorService.handleError(e),(0,f.$)(()=>e))))}}return i=a,(0,r.A)(a,"\u0275fac",function(e){return new(e||i)}),(0,r.A)(a,"\u0275cmp",t.VBU({type:i,selectors:[["app-tickets"]],decls:11,vars:5,consts:[[1,"ticket-container"],[1,"ticket-header"],[4,"ngIf"],[1,"product-container"],[1,"product-grid"],["class","product-grid-item",4,"ngFor","ngForOf"],[3,"disclaimer","product"],[3,"product","isProductVariable","productVariations","crossSaleItems"],["class","fixed-spinner",4,"ngIf"],["mode","query"],[1,"product-grid-item"],[3,"productSelected","product","selectedProductId"],[3,"disclaimer","product","abortDisclaimer","submitDisclaimer",4,"ngIf"],[3,"abortDisclaimer","submitDisclaimer","disclaimer","product"],[1,"fixed-spinner"],[3,"diameter"]],template:function(e,o){if(1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3,"Schichten"),t.k0s()(),t.DNE(4,Ut,2,0,"div",2),t.j41(5,"div",3)(6,"div",4),t.DNE(7,Ht,2,2,"div",5),t.k0s(),t.DNE(8,Zt,1,1,"app-disclaimer",6)(9,Jt,1,4,"app-product-details",7),t.k0s()(),t.DNE(10,qt,2,1,"div",8)),2&e){let s,m;t.R7$(4),t.Y8G("ngIf",o.viewLoading),t.R7$(3),t.Y8G("ngForOf",o.products()),t.R7$(),t.vxM((s=o.selectedProdDisclaimer())?8:-1,s),t.R7$(),t.vxM((m=o.selectedProduct())?9:-1,m),t.R7$(),t.Y8G("ngIf",o.productsLoading())}},dependencies:[Q.Fe,xt,jt,$.D6,$.LG,G,F,l.D,l.G,l.I,Wt,p.h],styles:["[_nghost-%COMP%]{width:100%;margin-bottom:30px}.ticket-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;width:100%;max-width:min(90vw,1200px);touch-action:auto;margin:auto;padding-bottom:90px}@media (max-width: 700px){.ticket-container[_ngcontent-%COMP%]{padding-bottom:200px}}.ticket-container__content[_ngcontent-%COMP%]{flex:1 0 auto;width:100%}.ticket-container__footer[_ngcontent-%COMP%]{flex-shrink:0}.ticket-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;text-align:center}h1[_ngcontent-%COMP%]{margin-bottom:2rem;border-bottom:2px solid rgba(44,24,16,.3);text-shadow:1px 1px 2px rgba(0,0,0,.1);width:100%;position:relative;z-index:1}.product-container[_ngcontent-%COMP%]{width:100%;height:auto;box-sizing:auto}.product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:30px;width:100%}@media (max-width: 1200px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:25px}}@media (max-width: 1000px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:20px}}@media (max-width: 700px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:15px}}@media (max-width: 400px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:10px}}@media (max-width: 300px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);gap:10px}}.product-grid-item[_ngcontent-%COMP%]{width:100%}"],changeDetection:0})),a})()}}]);