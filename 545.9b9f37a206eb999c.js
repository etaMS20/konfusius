"use strict";(self.webpackChunkkonfusius=self.webpackChunkkonfusius||[]).push([[545],{27545:(j,a,i)=>{i.r(a),i.d(a,{OrderOverviewComponent:()=>k});var d=i(71303),e=i(98244),m=i(85675),h=i(69134),u=i(35023);let v=(()=>{class r{transform(n,...o){return new Date(n).toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275pipe=e.EJ8({name:"humanReadableDate",type:r,pure:!0})}}return r})();var f=i(34513),O=i(75011),C=i(886),c=i(69846),l=i(72591),g=i(26364),P=i(21385),F=i(72783),p=i(57237),M=i(90748);const b=(r,s)=>({"overview-loading":r,"overview-loaded":s});function x(r,s){1&r&&(e.j41(0,"div",4),e.EFF(1,"Loading order details..."),e.k0s())}function y(r,s){if(1&r&&(e.j41(0,"div",5),e.EFF(1),e.k0s()),2&r){const n=e.XpG();e.R7$(),e.SpI(" ",n.error()," ")}}function E(r,s){if(1&r&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",15),e.EFF(6),e.k0s(),e.j41(7,"td",15),e.EFF(8),e.k0s()()),2&r){const n=s.$implicit,o=e.XpG(2);e.R7$(2),e.JRh(n.name),e.R7$(2),e.JRh(n.quantity),e.R7$(2),e.Lme(" ",n.price.toFixed(2),"",o._order.currency_symbol," "),e.R7$(2),e.Lme(" ",(n.quantity*n.price).toFixed(2),"",o._order.currency_symbol," ")}}function _(r,s){if(1&r&&(e.j41(0,"div",6)(1,"header",7)(2,"h2"),e.EFF(3),e.k0s(),e.nrm(4,"app-order-status",8),e.k0s(),e.j41(5,"div",9)(6,"div",10)(7,"p")(8,"strong"),e.EFF(9,"vom:"),e.k0s(),e.EFF(10),e.nI1(11,"humanReadableDate"),e.k0s(),e.j41(12,"p")(13,"strong"),e.EFF(14,"Zahlungsmethode:"),e.k0s(),e.EFF(15),e.k0s(),e.j41(16,"p",11),e.EFF(17),e.k0s()(),e.j41(18,"div",12)(19,"h3"),e.EFF(20,"Kontakt"),e.k0s(),e.j41(21,"address")(22,"p"),e.EFF(23),e.k0s(),e.j41(24,"p"),e.EFF(25),e.k0s(),e.j41(26,"p"),e.EFF(27),e.k0s(),e.j41(28,"p"),e.EFF(29),e.k0s()()()(),e.j41(30,"div",13)(31,"p"),e.EFF(32," Du solltest jetzt eine vorl\xe4ufige Best\xe4tigungs-mail bekommen haben. Hat die Kontaktperson den Abschluss best\xe4tigt, folgt eine separate mail. "),e.j41(33,"mat-icon"),e.EFF(34,"favorite"),e.k0s()(),e.j41(35,"p")(36,"strong"),e.EFF(37,"PS: Du kannst dir die URL oben rauskopieren & speichern, um zu dieser Seite zur\xfcckzukehren"),e.k0s()()(),e.j41(38,"div",14)(39,"table")(40,"thead")(41,"tr"),e.nrm(42,"th"),e.j41(43,"th"),e.EFF(44,"#"),e.k0s(),e.j41(45,"th",15),e.EFF(46,"Preis"),e.k0s(),e.j41(47,"th",15),e.EFF(48,"Total"),e.k0s()()(),e.j41(49,"tbody"),e.DNE(50,E,9,6,"tr",16),e.k0s(),e.j41(51,"tfoot")(52,"tr")(53,"td",17),e.EFF(54,"Kostenbeitrag"),e.k0s(),e.j41(55,"td",18),e.EFF(56),e.k0s()()()()()()),2&r){let n,o;const t=e.XpG();e.R7$(3),e.SpI("Anmeldung #",t._order.id,""),e.R7$(),e.Y8G("orderStatus",t._order.status),e.R7$(6),e.SpI(" ",e.bMT(11,14,t._order.date_created)," "),e.R7$(5),e.SpI(" ",null==(n=t.gateway())?null:n.title,""),e.R7$(2),e.JRh(null==(o=t.gateway())?null:o.description),e.R7$(6),e.Lme("",t._order.billing.first_name," ",t._order.billing.last_name,""),e.R7$(2),e.JRh(t._order.billing.address_1),e.R7$(2),e.Lme(" ",t._order.billing.city,", ",t._order.billing.postcode," "),e.R7$(2),e.JRh(t._order.billing.country),e.R7$(21),e.Y8G("ngForOf",t._order.line_items),e.R7$(6),e.Lme(" ",t._order.total,"",t._order.currency_symbol," ")}}let k=(()=>{class r{constructor(){this.wcApi=(0,e.WQX)(P.Z),this.route=(0,e.WQX)(u.x),this.cryptoService=(0,e.WQX)(f.L),this.errorService=(0,e.WQX)(O.I),this.lsService=(0,e.WQX)(F.s),this.destroy$=new C.B,this.order=(0,e.vPA)(null),this.error=(0,e.vPA)(null),this.orderId=(0,e.vPA)(null),this.gateway=(0,e.vPA)(void 0),this.loading=(0,e.vPA)(!0)}ngOnInit(){this.lsService.removeItem(p.e.PRD_SEL_ID),this.lsService.removeItem(p.e.DISC_STATE),this.route.paramMap.subscribe(n=>{const o=n.get("id");if(o){const t=parseInt(this.cryptoService.decrypt(o),10);this.orderId.set(t),this.fetchOrderDetails(t)}else this.loading.set(!1)}),this.wcApi.getPaymentGateway("cod").pipe((0,c.W)(n=>(this.errorService.handleError(n),(0,l.$)(()=>n))),(0,g.Q)(this.destroy$)).subscribe(n=>{this.gateway.set(n)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}fetchOrderDetails(n){this.wcApi.getOrderById(n).pipe((0,c.W)(o=>(this.errorService.handleError(o),(0,l.$)(()=>o))),(0,g.Q)(this.destroy$)).subscribe(o=>{o&&this.order.set(o),this.loading.set(!1)})}get _order(){return this.order()}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-order-overview"]],decls:4,vars:7,consts:[[1,"order-overview",3,"ngClass"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],["class","order-container",4,"ngIf"],[1,"loading"],[1,"error"],[1,"order-container"],[1,"order-header"],[1,"status-cell",3,"orderStatus"],[1,"order-details"],[1,"order-info"],[1,"gw-description"],[1,"order-shipping"],[1,"order-text"],[1,"order-items"],[1,"price"],[4,"ngFor","ngForOf"],["colspan","3",1,"total-label"],[1,"total-value"]],template:function(o,t){1&o&&(e.j41(0,"div",0),e.DNE(1,x,2,0,"div",1)(2,y,2,1,"div",2)(3,_,57,16,"div",3),e.k0s()),2&o&&(e.Y8G("ngClass",e.l_i(4,b,t.loading(),!t.loading())),e.R7$(),e.Y8G("ngIf",t.loading()),e.R7$(),e.Y8G("ngIf",t.error()),e.R7$(),e.Y8G("ngIf",t.order()&&!t.loading()))},dependencies:[d.D,d.E,d.G,d.I,v,m.d,h.a,M.q],styles:[".order-overview[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;border-radius:10px;box-shadow:0 1px 2px #0000000d;transition:all .3s ease}.order-overview[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000080;transform:translateY(5px)}@media (max-width: 600px){.order-overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 600px){.order-overview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}.overview-loaded[_ngcontent-%COMP%]{background-color:#fff}.loading[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{text-align:center;padding:20px}.error[_ngcontent-%COMP%]{color:#e53935}.order-text[_ngcontent-%COMP%]{border:1px dashed #6bf7f7;padding:.5rem;border-radius:10px}.gw-description[_ngcontent-%COMP%]{max-width:450px;font-style:italic}.order-shipping[_ngcontent-%COMP%]{text-align:right;padding-right:1rem}.order-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.order-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.order-status[_ngcontent-%COMP%]{padding:4px 12px;border-radius:16px;font-size:14px;font-weight:500}.order-status.processing[_ngcontent-%COMP%]{background-color:#d0f3f8;color:#517c83}.order-status.on-hold[_ngcontent-%COMP%]{background-color:#fff8e1;color:#ff8f00}.order-status.pending[_ngcontent-%COMP%]{background-color:#fdffe1;color:#ffa32c}.order-status.completed[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.order-status.cancelled[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.order-status.trash[_ngcontent-%COMP%]{background-color:#d4d4d4;color:#363636}.order-container[_ngcontent-%COMP%]{padding:1rem}.order-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 600px){.order-details[_ngcontent-%COMP%]{flex-direction:column;gap:20px}}.order-items[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:15px}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #eee}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;color:#666}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%], .order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{text-align:right}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{font-weight:600}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{font-size:1.1em;text-align:right}"]})}}return r})()}}]);