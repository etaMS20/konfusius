(self.webpackChunkkonfusius=self.webpackChunkkonfusius||[]).push([[106],{2546:function(A,C){var m,w;void 0!==(w="function"==typeof(m=function(){"use strict";function y(r,d,v){var c=new XMLHttpRequest;c.open("GET",r),c.responseType="blob",c.onload=function(){u(c.response,d,v)},c.onerror=function(){console.error("could not download file")},c.send()}function L(r){var d=new XMLHttpRequest;d.open("HEAD",r,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function R(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(d)}}var _="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,B=_.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=_.saveAs||("object"!=typeof window||window!==_?function(){}:"download"in HTMLAnchorElement.prototype&&!B?function(r,d,v){var c=_.URL||_.webkitURL,g=document.createElement("a");g.download=d=d||r.name||"download",g.rel="noopener","string"==typeof r?(g.href=r,g.origin===location.origin?R(g):L(g.href)?y(r,d,v):R(g,g.target="_blank")):(g.href=c.createObjectURL(r),setTimeout(function(){c.revokeObjectURL(g.href)},4e4),setTimeout(function(){R(g)},0))}:"msSaveOrOpenBlob"in navigator?function(r,d,v){if(d=d||r.name||"download","string"!=typeof r)navigator.msSaveOrOpenBlob(function e(r,d){return typeof d>"u"?d={autoBom:!1}:"object"!=typeof d&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\ufeff",r],{type:r.type}):r}(r,v),d);else if(L(r))y(r,d,v);else{var c=document.createElement("a");c.href=r,c.target="_blank",setTimeout(function(){R(c)})}}:function(r,d,v,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof r)return y(r,d,v);var g="application/octet-stream"===r.type,k=/constructor/i.test(_.HTMLElement)||_.safari,O=/CriOS\/[\d]+/.test(navigator.userAgent);if((O||g&&k||B)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var E=I.result;E=O?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=E:location=E,c=null},I.readAsDataURL(r)}else{var S=_.URL||_.webkitURL,x=S.createObjectURL(r);c?c.location=x:location.href=x,c=null,setTimeout(function(){S.revokeObjectURL(x)},4e4)}});_.saveAs=u.saveAs=u,A.exports=u})?m.apply(C,[]):m)&&(A.exports=w)},7106:(A,C,m)=>{"use strict";m.r(C),m.d(C,{GalleryComponent:()=>X});var b=m(8961),w=m(1303),e=m(8244),y=m(6812),L=m(1134),R=m(7871),_=m(8615),B=m(886);let r=(()=>{class o{constructor(){this._lightboxEventSource=new B.B,this.lightboxEvent$=this._lightboxEventSource.asObservable()}broadcastLightboxEvent(t){this._lightboxEventSource.next(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.jDH({token:o,factory:o.\u0275fac}),o})(),v=(()=>{class o{get nativeWindow(){return function d(){return window}()}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.jDH({token:o,factory:o.\u0275fac}),o})();var c=m(2546);let g=(()=>{class o{get isFileSaverSupported(){try{return!!new Blob}catch{return!1}}genType(t){if(!t||-1===t.lastIndexOf("."))return"text/plain";const i=t.substr(t.lastIndexOf(".")+1);switch(i){case"txt":return"text/plain";case"xml":case"html":return`text/${i}`;case"json":return"octet/stream";default:return`application/${i}`}}save(t,i,n,s){if(!t)throw new Error("Data argument should be a blob instance");const a=new Blob([t],{type:n||t.type||this.genType(i)});(0,c.saveAs)(a,decodeURI(i||"download"),s)}saveText(t,i,n){const s=new Blob([t]);this.save(s,i,void 0,n)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),O=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({}),o})();var I=m(8720);const S=["outerContainer"],x=["container"],E=["leftArrow"],F=["rightArrow"],V=["navArrow"],N=["dataContainer"],H=["image"],G=["caption"],W=["number"],P=["lb-content",""];let j=(()=>{class o{constructor(t,i,n,s,a,h,p,f){this._elemRef=t,this._rendererRef=i,this._lightboxEvent=n,this._lightboxElem=s,this._lightboxWindowRef=a,this._fileSaverService=h,this._sanitizer=p,this._documentRef=f,this.options=this.options||{},this.album=this.album||[],this.currentImageIndex=this.currentImageIndex||0,this._windowRef=this._lightboxWindowRef.nativeWindow,this.ui={showReloader:!0,showLeftArrow:!1,showRightArrow:!1,showArrowNav:!1,showZoomButton:!1,showRotateButton:!1,showPageNumber:!1,showCaption:!1,showDownloadButton:!1,classList:"lightbox animation fadeIn"},this.content={pageNumber:""},this._event={},this._lightboxElem=this._elemRef,this._event.subscription=this._lightboxEvent.lightboxEvent$.subscribe(T=>this._onReceivedEvent(T)),this.rotate=0}ngOnInit(){this.album.forEach(t=>{t.caption&&(t.caption=this._sanitizer.sanitize(e.WPN.HTML,t.caption))})}ngAfterViewInit(){this._cssValue={containerTopPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-top")),containerRightPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-right")),containerBottomPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-bottom")),containerLeftPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-left")),imageBorderWidthTop:Math.round(this._getCssStyleValue(this._imageElem,"border-top-width")),imageBorderWidthBottom:Math.round(this._getCssStyleValue(this._imageElem,"border-bottom-width")),imageBorderWidthLeft:Math.round(this._getCssStyleValue(this._imageElem,"border-left-width")),imageBorderWidthRight:Math.round(this._getCssStyleValue(this._imageElem,"border-right-width"))},this._validateInputData()&&(this._prepareComponent(),this._registerImageLoadingEvent())}ngOnDestroy(){this.options.disableKeyboardNav||this._disableKeyboardNav(),this._event.subscription.unsubscribe()}close(t){t.stopPropagation(),(t.target.classList.contains("lightbox")||t.target.classList.contains("lb-loader")||t.target.classList.contains("lb-close"))&&this._lightboxEvent.broadcastLightboxEvent({id:2,data:null})}download(t){t.stopPropagation();const i=this.album[this.currentImageIndex].src,n=this.album[this.currentImageIndex].downloadUrl,s=i.split("/"),a=s[s.length-1],h=document.createElement("canvas"),p=h.getContext("2d"),f=new Image,T=this;f.onload=function(){h.width=this.naturalWidth,h.height=this.naturalHeight,p.drawImage(this,0,0),h.toBlob(function(Z){T._fileSaverService.save(Z,a)},"image/jpeg",.75)},f.crossOrigin="",f.src=this._sanitizer.sanitize(e.WPN.URL,n&&n.length>0?n:i)}control(t){let i,n;t.stopPropagation(),t.target.classList.contains("lb-turnLeft")?(this.rotate=this.rotate-90,this._rotateContainer(),this._calcTransformPoint(),this._documentRef.getElementById("image").style.transform=`rotate(${this.rotate}deg)`,this._documentRef.getElementById("image").style.webkitTransform=`rotate(${this.rotate}deg)`,this._lightboxEvent.broadcastLightboxEvent({id:6,data:null})):t.target.classList.contains("lb-turnRight")?(this.rotate=this.rotate+90,this._rotateContainer(),this._calcTransformPoint(),this._documentRef.getElementById("image").style.transform=`rotate(${this.rotate}deg)`,this._documentRef.getElementById("image").style.webkitTransform=`rotate(${this.rotate}deg)`,this._lightboxEvent.broadcastLightboxEvent({id:7,data:null})):t.target.classList.contains("lb-zoomOut")?(i=parseInt(this._documentRef.getElementById("outerContainer").style.height,10)/1.5,n=parseInt(this._documentRef.getElementById("outerContainer").style.width,10)/1.5,this._documentRef.getElementById("outerContainer").style.height=i+"px",this._documentRef.getElementById("outerContainer").style.width=n+"px",i=parseInt(this._documentRef.getElementById("image").style.height,10)/1.5,n=parseInt(this._documentRef.getElementById("image").style.width,10)/1.5,this._documentRef.getElementById("image").style.height=i+"px",this._documentRef.getElementById("image").style.width=n+"px",this._lightboxEvent.broadcastLightboxEvent({id:5,data:null})):t.target.classList.contains("lb-zoomIn")&&(i=1.5*parseInt(this._documentRef.getElementById("outerContainer").style.height,10),n=1.5*parseInt(this._documentRef.getElementById("outerContainer").style.width,10),this._documentRef.getElementById("outerContainer").style.height=i+"px",this._documentRef.getElementById("outerContainer").style.width=n+"px",i=1.5*parseInt(this._documentRef.getElementById("image").style.height,10),n=1.5*parseInt(this._documentRef.getElementById("image").style.width,10),this._documentRef.getElementById("image").style.height=i+"px",this._documentRef.getElementById("image").style.width=n+"px",this._lightboxEvent.broadcastLightboxEvent({id:4,data:null}))}_rotateContainer(){let t=this.rotate;t<0&&(t*=-1),t/90%4==1||t/90%4==3?(this._documentRef.getElementById("outerContainer").style.height=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("outerContainer").style.width=this._documentRef.getElementById("image").style.height,this._documentRef.getElementById("container").style.height=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("container").style.width=this._documentRef.getElementById("image").style.height):(this._documentRef.getElementById("outerContainer").style.height=this._documentRef.getElementById("image").style.height,this._documentRef.getElementById("outerContainer").style.width=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("container").style.height=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("container").style.width=this._documentRef.getElementById("image").style.height)}_resetImage(){this.rotate=0,this._documentRef.getElementById("image").style.transform=`rotate(${this.rotate}deg)`,this._documentRef.getElementById("image").style.webkitTransform=`rotate(${this.rotate}deg)`}_calcTransformPoint(){let t=parseInt(this._documentRef.getElementById("image").style.height,10),i=parseInt(this._documentRef.getElementById("image").style.width,10),n=this.rotate%360;n<0&&(n=360+n),90===n?this._documentRef.getElementById("image").style.transformOrigin=t/2+"px "+t/2+"px":180===n?this._documentRef.getElementById("image").style.transformOrigin=i/2+"px "+t/2+"px":270===n&&(this._documentRef.getElementById("image").style.transformOrigin=i/2+"px "+i/2+"px")}nextImage(){1!==this.album.length&&this._changeImage(this.currentImageIndex===this.album.length-1?0:this.currentImageIndex+1)}prevImage(){1!==this.album.length&&this._changeImage(0===this.currentImageIndex&&this.album.length>1?this.album.length-1:this.currentImageIndex-1)}_validateInputData(){if(!(this.album&&this.album instanceof Array&&this.album.length>0))throw new Error("No album data or album data is not correct in type");for(let t=0;t<this.album.length;t++)if(!this.album[t].src)throw new Error("One of the album data does not have source data");if(isNaN(this.currentImageIndex))throw new Error("Current image index is not a number");return this.currentImageIndex=Number(this.currentImageIndex),!0}_registerImageLoadingEvent(){const t=new Image;t.onload=()=>{this._onLoadImageSuccess()},t.src=this._sanitizer.sanitize(e.WPN.URL,this.album[this.currentImageIndex].src)}_onLoadImageSuccess(){let t,i,n,s,a,h,p,f;this.options.disableKeyboardNav||this._disableKeyboardNav(),i=p=this._imageElem.nativeElement.naturalWidth,t=f=this._imageElem.nativeElement.naturalHeight,this.options.fitImageInViewPort&&(h=this._windowRef.innerWidth,a=this._windowRef.innerHeight,s=h-this._cssValue.containerLeftPadding-this._cssValue.containerRightPadding-this._cssValue.imageBorderWidthLeft-this._cssValue.imageBorderWidthRight-20,n=a-this._cssValue.containerTopPadding-this._cssValue.containerTopPadding-this._cssValue.imageBorderWidthTop-this._cssValue.imageBorderWidthBottom-120,(p>s||f>n)&&(p/s>f/n?(i=s,t=Math.round(f/(p/i))):(t=n,i=Math.round(p/(f/t)))),this._rendererRef.setStyle(this._imageElem.nativeElement,"width",`${i}px`),this._rendererRef.setStyle(this._imageElem.nativeElement,"height",`${t}px`)),this._sizeContainer(i,t),this.options.centerVertically&&this._centerVertically(i,t)}_centerVertically(t,i){this._rendererRef.setStyle(this._lightboxElem.nativeElement,"top",`${this._documentRef.documentElement.scrollTop+(this._windowRef.innerHeight/2-i/2)}px`)}_sizeContainer(t,i){const s=this._outerContainerElem.nativeElement.offsetHeight,a=t+this._cssValue.containerRightPadding+this._cssValue.containerLeftPadding+this._cssValue.imageBorderWidthLeft+this._cssValue.imageBorderWidthRight,h=i+this._cssValue.containerTopPadding+this._cssValue.containerBottomPadding+this._cssValue.imageBorderWidthTop+this._cssValue.imageBorderWidthBottom;Math.abs(this._outerContainerElem.nativeElement.offsetWidth-a)+Math.abs(s-h)>5?(this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"width",`${a}px`),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"height",`${h}px`),this.options.enableTransition?(this._event.transitions=[],["transitionend","webkitTransitionEnd","oTransitionEnd","MSTransitionEnd"].forEach(p=>{this._event.transitions.push(this._rendererRef.listen(this._outerContainerElem.nativeElement,p,f=>{f.target===f.currentTarget&&this._postResize(a,h)}))})):this._postResize(a,h)):this._postResize(a,h)}_postResize(t,i){Array.isArray(this._event.transitions)&&(this._event.transitions.forEach(n=>{n()}),this._event.transitions=[]),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"width",`${t}px`),this._showImage()}_showImage(){this.ui.showReloader=!1,this._updateNav(),this._updateDetails(),this.options.disableKeyboardNav||this._enableKeyboardNav()}_prepareComponent(){this._addCssAnimation(),this._positionLightBox(),setTimeout(()=>{this.ui.showZoomButton=this.options.showZoom,this.ui.showRotateButton=this.options.showRotate,this.ui.showDownloadButton=this.options.showDownloadButton},0)}_positionLightBox(){const i=this._windowRef.pageXOffset||this._documentRef.documentElement.scrollLeft;this.options.centerVertically||this._rendererRef.setStyle(this._lightboxElem.nativeElement,"top",`${(this._windowRef.pageYOffset||this._documentRef.documentElement.scrollTop)+this.options.positionFromTop}px`),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"left",`${i}px`),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"display","block"),this.options.disableScrolling&&this._rendererRef.addClass(this._documentRef.documentElement,"lb-disable-scrolling")}_addCssAnimation(){const t=this.options.resizeDuration,i=this.options.fadeDuration;this._rendererRef.setStyle(this._lightboxElem.nativeElement,"-webkit-animation-duration",`${i}s`),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"animation-duration",`${i}s`),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"-webkit-transition-duration",`${t}s`),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"transition-duration",`${t}s`),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"-webkit-animation-duration",`${i}s`),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"animation-duration",`${i}s`),this._rendererRef.setStyle(this._imageElem.nativeElement,"-webkit-animation-duration",`${i}s`),this._rendererRef.setStyle(this._imageElem.nativeElement,"animation-duration",`${i}s`),this._rendererRef.setStyle(this._captionElem.nativeElement,"-webkit-animation-duration",`${i}s`),this._rendererRef.setStyle(this._captionElem.nativeElement,"animation-duration",`${i}s`),this._rendererRef.setStyle(this._numberElem.nativeElement,"-webkit-animation-duration",`${i}s`),this._rendererRef.setStyle(this._numberElem.nativeElement,"animation-duration",`${i}s`)}_end(){this.ui.classList="lightbox animation fadeOut",this.options.disableScrolling&&this._rendererRef.removeClass(this._documentRef.documentElement,"lb-disable-scrolling"),setTimeout(()=>{this.cmpRef.destroy()},1e3*this.options.fadeDuration)}_updateDetails(){typeof this.album[this.currentImageIndex].caption<"u"&&""!==this.album[this.currentImageIndex].caption&&(this.ui.showCaption=!0),this.album.length>1&&this.options.showImageNumberLabel&&(this.ui.showPageNumber=!0,this.content.pageNumber=this._albumLabel())}_albumLabel(){return this.options.albumLabel.replace(/%1/g,Number(this.currentImageIndex+1)).replace(/%2/g,this.album.length)}_changeImage(t){this._resetImage(),this.currentImageIndex=t,this._hideImage(),this._registerImageLoadingEvent(),this._lightboxEvent.broadcastLightboxEvent({id:1,data:t})}_hideImage(){this.ui.showReloader=!0,this.ui.showArrowNav=!1,this.ui.showLeftArrow=!1,this.ui.showRightArrow=!1,this.ui.showPageNumber=!1,this.ui.showCaption=!1}_updateNav(){let t=!1;try{this._documentRef.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch{}this._showArrowNav(),this.album.length>1&&(this.options.wrapAround?(t&&(this._rendererRef.setStyle(this._leftArrowElem.nativeElement,"opacity","1"),this._rendererRef.setStyle(this._rightArrowElem.nativeElement,"opacity","1")),this._showLeftArrowNav(),this._showRightArrowNav()):(this.currentImageIndex>0&&(this._showLeftArrowNav(),t&&this._rendererRef.setStyle(this._leftArrowElem.nativeElement,"opacity","1")),this.currentImageIndex<this.album.length-1&&(this._showRightArrowNav(),t&&this._rendererRef.setStyle(this._rightArrowElem.nativeElement,"opacity","1"))))}_showLeftArrowNav(){this.ui.showLeftArrow=!0}_showRightArrowNav(){this.ui.showRightArrow=!0}_showArrowNav(){this.ui.showArrowNav=1!==this.album.length}_enableKeyboardNav(){this._event.keyup=this._rendererRef.listen("document","keyup",t=>{this._keyboardAction(t)})}_disableKeyboardNav(){this._event.keyup&&this._event.keyup()}_keyboardAction(t){const a=t.keyCode,h=String.fromCharCode(a).toLowerCase();27===a||h.match(/x|o|c/)?this._lightboxEvent.broadcastLightboxEvent({id:2,data:null}):"p"===h||37===a?0!==this.currentImageIndex?this._changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this._changeImage(this.album.length-1):("n"===h||39===a)&&(this.currentImageIndex!==this.album.length-1?this._changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this._changeImage(0))}_getCssStyleValue(t,i){return parseFloat(this._windowRef.getComputedStyle(t.nativeElement,null).getPropertyValue(i))}_onReceivedEvent(t){2===t.id&&this._end()}}return o.\u0275fac=function(t){return new(t||o)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(r),e.rXU(e.aKT),e.rXU(v),e.rXU(g),e.rXU(I.up),e.rXU(_.D))},o.\u0275cmp=e.VBU({type:o,selectors:[["","lb-content",""]],viewQuery:function(t,i){if(1&t&&(e.GBs(S,5),e.GBs(x,5),e.GBs(E,5),e.GBs(F,5),e.GBs(V,5),e.GBs(N,5),e.GBs(H,5),e.GBs(G,5),e.GBs(W,5)),2&t){let n;e.mGM(n=e.lsd())&&(i._outerContainerElem=n.first),e.mGM(n=e.lsd())&&(i._containerElem=n.first),e.mGM(n=e.lsd())&&(i._leftArrowElem=n.first),e.mGM(n=e.lsd())&&(i._rightArrowElem=n.first),e.mGM(n=e.lsd())&&(i._navArrowElem=n.first),e.mGM(n=e.lsd())&&(i._dataContainerElem=n.first),e.mGM(n=e.lsd())&&(i._imageElem=n.first),e.mGM(n=e.lsd())&&(i._captionElem=n.first),e.mGM(n=e.lsd())&&(i._numberElem=n.first)}},hostVars:2,hostBindings:function(t,i){1&t&&e.bIt("click",function(s){return i.close(s)}),2&t&&e.HbH(i.ui.classList)},inputs:{album:"album",currentImageIndex:"currentImageIndex",options:"options",cmpRef:"cmpRef"},attrs:P,decls:34,vars:14,consts:[["id","outerContainer",1,"lb-outerContainer","transition"],["outerContainer",""],["id","container",1,"lb-container"],["container",""],["id","image",1,"lb-image","animation","fadeIn",3,"src","hidden"],["image",""],[1,"lb-nav",3,"hidden"],["navArrow",""],[1,"lb-prev",3,"hidden","click"],["leftArrow",""],[1,"lb-next",3,"hidden","click"],["rightArrow",""],[1,"lb-loader",3,"hidden","click"],[1,"lb-cancel"],[1,"lb-dataContainer",3,"hidden"],["dataContainer",""],[1,"lb-data"],[1,"lb-details"],[1,"lb-caption","animation","fadeIn",3,"hidden","innerHtml"],["caption",""],[1,"lb-number","animation","fadeIn",3,"hidden"],["number",""],[1,"lb-controlContainer"],[1,"lb-closeContainer"],[1,"lb-close",3,"click"],[1,"lb-downloadContainer",3,"hidden"],[1,"lb-download",3,"click"],[1,"lb-turnContainer",3,"hidden"],[1,"lb-turnLeft",3,"click"],[1,"lb-turnRight",3,"click"],[1,"lb-zoomContainer",3,"hidden"],[1,"lb-zoomOut",3,"click"],[1,"lb-zoomIn",3,"click"]],template:function(t,i){1&t&&(e.j41(0,"div",0,1)(2,"div",2,3),e.nrm(4,"img",4,5),e.j41(6,"div",6,7)(8,"a",8,9),e.bIt("click",function(){return i.prevImage()}),e.k0s(),e.j41(10,"a",10,11),e.bIt("click",function(){return i.nextImage()}),e.k0s()(),e.j41(12,"div",12),e.bIt("click",function(s){return i.close(s)}),e.nrm(13,"a",13),e.k0s()()(),e.j41(14,"div",14,15)(16,"div",16)(17,"div",17),e.nrm(18,"span",18,19),e.j41(20,"span",20,21),e.EFF(22),e.k0s()(),e.j41(23,"div",22)(24,"div",23)(25,"a",24),e.bIt("click",function(s){return i.close(s)}),e.k0s()(),e.j41(26,"div",25)(27,"a",26),e.bIt("click",function(s){return i.download(s)}),e.k0s()(),e.j41(28,"div",27)(29,"a",28),e.bIt("click",function(s){return i.control(s)}),e.k0s(),e.j41(30,"a",29),e.bIt("click",function(s){return i.control(s)}),e.k0s()(),e.j41(31,"div",30)(32,"a",31),e.bIt("click",function(s){return i.control(s)}),e.k0s(),e.j41(33,"a",32),e.bIt("click",function(s){return i.control(s)}),e.k0s()()()()()),2&t&&(e.R7$(4),e.Y8G("src",i.album[i.currentImageIndex].src,e.B4B)("hidden",i.ui.showReloader),e.R7$(2),e.Y8G("hidden",!i.ui.showArrowNav),e.R7$(2),e.Y8G("hidden",!i.ui.showLeftArrow),e.R7$(2),e.Y8G("hidden",!i.ui.showRightArrow),e.R7$(2),e.Y8G("hidden",!i.ui.showReloader),e.R7$(2),e.Y8G("hidden",i.ui.showReloader),e.R7$(4),e.Y8G("hidden",!i.ui.showCaption)("innerHtml",i.album[i.currentImageIndex].caption,e.npT),e.R7$(2),e.Y8G("hidden",!i.ui.showPageNumber),e.R7$(2),e.JRh(i.content.pageNumber),e.R7$(4),e.Y8G("hidden",!i.ui.showDownloadButton),e.R7$(2),e.Y8G("hidden",!i.ui.showRotateButton),e.R7$(3),e.Y8G("hidden",!i.ui.showZoomButton))},encapsulation:2}),o})(),D=(()=>{class o{constructor(){this.fadeDuration=.7,this.resizeDuration=.5,this.fitImageInViewPort=!0,this.positionFromTop=20,this.showImageNumberLabel=!1,this.alwaysShowNavOnTouchDevices=!1,this.wrapAround=!1,this.disableKeyboardNav=!1,this.disableScrolling=!1,this.centerVertically=!1,this.enableTransition=!0,this.albumLabel="Image %1 of %2",this.showZoom=!1,this.showRotate=!1,this.containerElementResolver=t=>t.querySelector("body")}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.jDH({token:o,factory:o.\u0275fac}),o})();const $=["lb-overlay",""];let U=(()=>{class o{constructor(t,i,n,s){this._elemRef=t,this._rendererRef=i,this._lightboxEvent=n,this._documentRef=s,this.classList="lightboxOverlay animation fadeInOverlay",this._subscription=this._lightboxEvent.lightboxEvent$.subscribe(a=>this._onReceivedEvent(a))}close(){this._lightboxEvent.broadcastLightboxEvent({id:2,data:null})}ngAfterViewInit(){const t=this.options.fadeDuration;this._rendererRef.setStyle(this._elemRef.nativeElement,"-webkit-animation-duration",`${t}s`),this._rendererRef.setStyle(this._elemRef.nativeElement,"animation-duration",`${t}s`),this._sizeOverlay()}onResize(){this._sizeOverlay()}ngOnDestroy(){this._subscription.unsubscribe()}_sizeOverlay(){const t=this._getOverlayWidth(),i=this._getOverlayHeight();this._rendererRef.setStyle(this._elemRef.nativeElement,"width",`${t}px`),this._rendererRef.setStyle(this._elemRef.nativeElement,"height",`${i}px`)}_onReceivedEvent(t){2===t.id&&this._end()}_end(){this.classList="lightboxOverlay animation fadeOutOverlay",setTimeout(()=>{this.cmpRef.destroy()},1e3*this.options.fadeDuration)}_getOverlayWidth(){return Math.max(this._documentRef.body.scrollWidth,this._documentRef.body.offsetWidth,this._documentRef.documentElement.clientWidth,this._documentRef.documentElement.scrollWidth,this._documentRef.documentElement.offsetWidth)}_getOverlayHeight(){return Math.max(this._documentRef.body.scrollHeight,this._documentRef.body.offsetHeight,this._documentRef.documentElement.clientHeight,this._documentRef.documentElement.scrollHeight,this._documentRef.documentElement.offsetHeight)}}return o.\u0275fac=function(t){return new(t||o)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(r),e.rXU(_.D))},o.\u0275cmp=e.VBU({type:o,selectors:[["","lb-overlay",""]],hostVars:2,hostBindings:function(t,i){1&t&&e.bIt("click",function(){return i.close()})("resize",function(){return i.onResize()},!1,e.tSv),2&t&&e.HbH(i.classList)},inputs:{options:"options",cmpRef:"cmpRef"},attrs:$,decls:0,vars:0,template:function(t,i){},encapsulation:2}),o})(),M=(()=>{class o{constructor(t,i,n,s,a,h){this._componentFactoryResolver=t,this._injector=i,this._applicationRef=n,this._lightboxConfig=s,this._lightboxEvent=a,this._documentRef=h}open(t,i=0,n={}){const s=this._createComponent(U),a=this._createComponent(j),h={};this._lightboxEvent.broadcastLightboxEvent({id:3}),Object.assign(h,this._lightboxConfig,n),a.instance.album=t,a.instance.currentImageIndex=i,a.instance.options=h,a.instance.cmpRef=a,s.instance.options=h,s.instance.cmpRef=s,setTimeout(()=>{this._applicationRef.attachView(s.hostView),this._applicationRef.attachView(a.hostView),s.onDestroy(()=>{this._applicationRef.detachView(s.hostView)}),a.onDestroy(()=>{this._applicationRef.detachView(a.hostView)});const p=h.containerElementResolver(this._documentRef);p.appendChild(s.location.nativeElement),p.appendChild(a.location.nativeElement)})}close(){this._lightboxEvent&&this._lightboxEvent.broadcastLightboxEvent({id:2})}_createComponent(t){return this._componentFactoryResolver.resolveComponentFactory(t).create(this._injector)}}return o.\u0275fac=function(t){return new(t||o)(e.KVO(e.OM3),e.KVO(e.zZn),e.KVO(e.o8S),e.KVO(D),e.KVO(r),e.KVO(_.D))},o.\u0275prov=e.jDH({token:o,factory:o.\u0275fac}),o})(),z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({providers:[M,D,r,v],imports:[O]}),o})();var K=m(8867);function Y(o,l){if(1&o){const t=e.RV6();e.j41(0,"div",3),e.bIt("click",function(){const n=e.eBV(t).index,s=e.XpG();return e.Njj(s.openImage(n))}),e.nrm(1,"img",4),e.k0s()}if(2&o){const t=l.$implicit;e.R7$(),e.Y8G("src",t.thumb,e.B4B)("alt",t.caption)}}let X=(()=>{var o;class l{constructor(i,n,s){(0,b.A)(this,"wpApi",void 0),(0,b.A)(this,"lightbox",void 0),(0,b.A)(this,"lightboxConfig",void 0),(0,b.A)(this,"galleryImages",(0,e.vPA)([])),(0,b.A)(this,"album",[]),(0,b.A)(this,"mappingService",(0,e.WQX)(L.M)),this.wpApi=i,this.lightbox=n,this.lightboxConfig=s,this.lightboxConfig.fadeDuration=.2,this.lightboxConfig.resizeDuration=.2,this.lightboxConfig.centerVertically=!0,this.lightboxConfig.wrapAround=!0,this.wpApi.getMediaImages([y.E4.GALLERY]).pipe((0,R.T)(a=>this.mappingService.mapImageArray(a))).subscribe(a=>{this.galleryImages.set(a),this.album=a.map(h=>({src:h.url,caption:h.alt,thumb:h.sizes[y.jV.MOBILE]}))})}openImage(i){this.lightbox.open(this.album,i)}closeLightbox(){this.lightbox.close()}}return o=l,(0,b.A)(l,"\u0275fac",function(i){return new(i||o)(e.rXU(K.$),e.rXU(M),e.rXU(D))}),(0,b.A)(l,"\u0275cmp",e.VBU({type:o,selectors:[["app-gallery"]],decls:3,vars:1,consts:[[1,"gallery-container"],[1,"image-gallery"],["class","image-container",3,"click",4,"ngFor","ngForOf"],[1,"image-container",3,"click"],["loading","lazy",3,"src","alt"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,Y,2,2,"div",2),e.k0s()()),2&i&&(e.R7$(2),e.Y8G("ngForOf",n.album))},dependencies:[w.D,w.G,z],styles:[".gallery-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:1200px;margin:0 auto}.image-gallery[_ngcontent-%COMP%]{display:columns;column-count:5;column-gap:.5rem;width:100%}.image-container[_ngcontent-%COMP%]{break-inside:avoid;cursor:pointer;transition:transform .2s ease}.image-container[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.image-container[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000080}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:.2rem;object-fit:cover;box-shadow:0 1px 2px #0000000d}@media (max-width: 1000px){.image-gallery[_ngcontent-%COMP%]{column-count:4;margin:.2rem}}@media (max-width: 700px){.image-gallery[_ngcontent-%COMP%]{column-count:3;column-gap:.2rem}}"]})),l})()}}]);