"use strict";(self.webpackChunkkonfusius=self.webpackChunkkonfusius||[]).push([[543],{67543:(b,m,t)=>{t.r(m),t.d(m,{LoginComponent:()=>M});var i=t(98961),c=t(71303),o=t(98244),n=t(73426),d=t(70300),f=t(30925),_=t(55493),g=t(35023),h=t(55200),u=t(44535);function E(s,a){if(1&s&&(o.j41(0,"mat-error"),o.EFF(1),o.k0s()),2&s){const l=o.XpG();o.R7$(),o.SpI(" ",l.errorMessage," ")}}let M=(()=>{var s;class a{constructor(){(0,i.A)(this,"authService",(0,o.WQX)(h.u)),(0,i.A)(this,"fb",(0,o.WQX)(n.ze)),(0,i.A)(this,"router",(0,o.WQX)(g.t)),(0,i.A)(this,"route",(0,o.WQX)(g.x)),(0,i.A)(this,"loginForm",void 0),(0,i.A)(this,"redirectUrl",null),this.loginForm=this.fb.group({password:new n.MJ("",[n.k0.required,this.passwordValidator.bind(this)]),remember:[!0]})}ngOnInit(){this.redirectUrl=this.route.snapshot.queryParamMap.get("redirect"),this.loginForm.controls.password.markAsTouched()}passwordValidator(r){return null}get errorMessage(){const r=this.loginForm.get("password");return r?.hasError("required")?"Passwort ist erforderlich":r?.hasError("incorrect")?"Falsches Passwort":""}updateErrorMessage(){}onInput(){this.loginForm.controls.password.markAsTouched()}onSubmit(){const r=this.loginForm.get("password")?.value;this.authService.login(r)?this.router.navigate([this.redirectUrl?this.redirectUrl:"/"]):(this.loginForm.get("password")?.setErrors({incorrect:!0}),this.loginForm.controls.password.markAsTouched())}}return s=a,(0,i.A)(a,"\u0275fac",function(r){return new(r||s)}),(0,i.A)(a,"\u0275cmp",o.VBU({type:s,selectors:[["app-login"]],decls:11,vars:3,consts:[[1,"login-form"],["autocomplete","on",3,"ngSubmit","formGroup"],[1,"image-container"],["src","./public/schweini_1.png","alt","Logo",1,"form-field-image"],["appearance","fill"],["matInput","","type","password","formControlName","password","autocomplete","current-password","required","",3,"input","blur"],[4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(r,e){1&r&&(o.j41(0,"div",0)(1,"form",1),o.bIt("ngSubmit",function(){return e.onSubmit()}),o.j41(2,"div",2),o.nrm(3,"img",3),o.k0s(),o.j41(4,"mat-form-field",4)(5,"mat-label"),o.EFF(6,"Passwort"),o.k0s(),o.j41(7,"input",5),o.bIt("input",function(){return e.onInput()})("blur",function(){return e.updateErrorMessage()}),o.k0s(),o.DNE(8,E,2,1,"mat-error",6),o.k0s(),o.j41(9,"button",7),o.EFF(10," Anmelden "),o.k0s()()()),2&r&&(o.R7$(),o.Y8G("formGroup",e.loginForm),o.R7$(7),o.Y8G("ngIf",e.loginForm.controls.password.invalid&&e.loginForm.controls.password.touched),o.R7$(),o.Y8G("disabled",!e.loginForm.touched))},dependencies:[f.M,u.k,u.b,u.d,n.X1,n.qT,n.me,n.BC,n.cb,n.YS,n.j4,n.JD,_.fS,_.fg,d.h,d.M,c.I],styles:[".login-form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:auto;padding:1rem}.image-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding:1.5rem}.form-field-image[_ngcontent-%COMP%]{display:block;height:auto;width:100%;border-radius:5%}form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 4px 8px #0000001a;width:100%;max-width:400px}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1.5rem}button[_ngcontent-%COMP%]{width:100%;padding:.8rem;font-size:1rem;border-radius:4px;border:2px solid #007bff;background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#007bff}mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1rem}"]})),a})()}}]);