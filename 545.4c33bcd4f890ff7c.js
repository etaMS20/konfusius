"use strict";(self.webpackChunkkonfusius=self.webpackChunkkonfusius||[]).push([[545],{9926:(R,a,i)=>{i.r(a),i.d(a,{OrderOverviewComponent:()=>_});var s=i(1303),e=i(8244),v=i(5675),u=i(9134),h=i(5023);let f=(()=>{class r{transform(n,...o){return new Date(n).toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}static \u0275fac=function(o){return new(o||r)};static \u0275pipe=e.EJ8({name:"humanReadableDate",type:r,pure:!0})}return r})();var O=i(4513),C=i(5011),P=i(886),c=i(9846),l=i(2591),g=i(6364),F=i(1385),M=i(2783),m=i(7237),b=i(748),p=i(8073);const x=(r,d)=>({"overview-loading":r,"overview-loaded":d});function y(r,d){1&r&&(e.j41(0,"div",4),e.EFF(1,"Loading order details..."),e.k0s())}function E(r,d){if(1&r&&(e.j41(0,"div",5),e.EFF(1),e.k0s()),2&r){const n=e.XpG();e.R7$(),e.SpI(" ",n.error()," ")}}function k(r,d){if(1&r&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",16),e.EFF(6),e.k0s(),e.j41(7,"td",16),e.EFF(8),e.k0s()()),2&r){const n=d.$implicit,o=e.XpG(2);e.R7$(2),e.JRh(n.name),e.R7$(2),e.JRh(n.quantity),e.R7$(2),e.Lme(" ",n.price.toFixed(2),"",o._order.currency_symbol," "),e.R7$(2),e.Lme(" ",(n.quantity*n.price).toFixed(2),"",o._order.currency_symbol," ")}}function w(r,d){if(1&r&&(e.j41(0,"div",6)(1,"header",7)(2,"h2"),e.EFF(3),e.k0s(),e.nrm(4,"app-order-status",8),e.k0s(),e.j41(5,"div",9)(6,"div",10)(7,"p")(8,"strong"),e.EFF(9,"vom:"),e.k0s(),e.EFF(10),e.nI1(11,"humanReadableDate"),e.k0s(),e.j41(12,"p")(13,"strong"),e.EFF(14,"Zahlungsmethode:"),e.k0s(),e.EFF(15),e.k0s(),e.j41(16,"p",11),e.EFF(17),e.k0s()(),e.j41(18,"div",12)(19,"h3"),e.EFF(20,"Kontakt"),e.k0s(),e.j41(21,"address")(22,"p"),e.EFF(23),e.k0s(),e.j41(24,"p"),e.EFF(25),e.k0s(),e.j41(26,"p"),e.EFF(27),e.k0s(),e.j41(28,"p"),e.EFF(29),e.k0s()()()(),e.nrm(30,"mat-divider",13),e.j41(31,"div",14)(32,"p"),e.EFF(33," Du solltest jetzt eine vorl\xe4ufige Best\xe4tigungs-mail bekommen haben. Sobald die Zahlung verarbeitet ist, folgt eine separate mail. "),e.j41(34,"mat-icon"),e.EFF(35,"favorite"),e.k0s()(),e.j41(36,"p")(37,"strong"),e.EFF(38,"PS:"),e.k0s(),e.EFF(39," Du kannst dir die URL oben rauskopieren & speichern, um zu dieser Seite zur\xfcckzukehren "),e.k0s()(),e.j41(40,"div",15)(41,"table")(42,"thead")(43,"tr"),e.nrm(44,"th"),e.j41(45,"th"),e.EFF(46,"#"),e.k0s(),e.j41(47,"th",16),e.EFF(48,"Preis"),e.k0s(),e.j41(49,"th",16),e.EFF(50,"Total"),e.k0s()()(),e.j41(51,"tbody"),e.DNE(52,k,9,6,"tr",17),e.k0s(),e.j41(53,"tfoot")(54,"tr")(55,"td",18),e.EFF(56,"Kostenbeitrag"),e.k0s(),e.j41(57,"td",19),e.EFF(58),e.k0s()()()()()()),2&r){let n,o;const t=e.XpG();e.R7$(3),e.SpI("Anmeldung #",t._order.id,""),e.R7$(),e.Y8G("orderStatus",t._order.status),e.R7$(6),e.SpI(" ",e.bMT(11,15,t._order.date_created)," "),e.R7$(5),e.SpI(" ",null==(n=t.gateway())?null:n.title,""),e.R7$(2),e.JRh(null==(o=t.gateway())?null:o.description),e.R7$(6),e.Lme("",t._order.billing.first_name," ",t._order.billing.last_name,""),e.R7$(2),e.JRh(t._order.billing.address_1),e.R7$(2),e.E5c(" ",t._order.billing.city,", ",t._order.billing.postcode,", ",t._order.billing.country," "),e.R7$(2),e.JRh(t._order.billing.email),e.R7$(23),e.Y8G("ngForOf",t._order.line_items),e.R7$(6),e.Lme(" ",t._order.total,"",t._order.currency_symbol," ")}}let _=(()=>{class r{wcApi=(0,e.WQX)(F.Z);route=(0,e.WQX)(h.x);cryptoService=(0,e.WQX)(O.L);errorService=(0,e.WQX)(C.I);lsService=(0,e.WQX)(M.s);destroy$=new P.B;order=(0,e.vPA)(null);error=(0,e.vPA)(null);orderId=(0,e.vPA)(null);gateway=(0,e.vPA)(void 0);loading=(0,e.vPA)(!0);ngOnInit(){this.lsService.removeItem(m.e.PRD_SEL_ID),this.lsService.removeItem(m.e.DISC_STATE),this.route.paramMap.subscribe(n=>{const o=n.get("id");if(o){const t=parseInt(this.cryptoService.decrypt(o),10);this.orderId.set(t),this.fetchOrderDetails(t)}else this.loading.set(!1)}),this.wcApi.getPaymentGateway("cod").pipe((0,c.W)(n=>(this.errorService.handleError(n),(0,l.$)(()=>n))),(0,g.Q)(this.destroy$)).subscribe(n=>{this.gateway.set(n)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}fetchOrderDetails(n){this.wcApi.getOrderById(n).pipe((0,c.W)(o=>(this.errorService.handleError(o),(0,l.$)(()=>o))),(0,g.Q)(this.destroy$)).subscribe(o=>{o&&this.order.set(o),this.loading.set(!1)})}get _order(){return this.order()}static \u0275fac=function(o){return new(o||r)};static \u0275cmp=e.VBU({type:r,selectors:[["app-order-overview"]],decls:4,vars:7,consts:[[1,"order-overview",3,"ngClass"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],["class","order-container",4,"ngIf"],[1,"loading"],[1,"error"],[1,"order-container"],[1,"order-header"],[1,"status-cell",3,"orderStatus"],[1,"order-details"],[1,"order-info"],[1,"gw-description"],[1,"order-shipping"],[2,"margin","1rem 0"],[1,"order-text"],[1,"order-items"],[1,"price"],[4,"ngFor","ngForOf"],["colspan","3",1,"total-label"],[1,"total-value"]],template:function(o,t){1&o&&(e.j41(0,"div",0),e.DNE(1,y,2,0,"div",1)(2,E,2,1,"div",2)(3,w,59,17,"div",3),e.k0s()),2&o&&(e.Y8G("ngClass",e.l_i(4,x,t.loading(),!t.loading())),e.R7$(),e.Y8G("ngIf",t.loading()),e.R7$(),e.Y8G("ngIf",t.error()),e.R7$(),e.Y8G("ngIf",t.order()&&!t.loading()))},dependencies:[s.D,s.E,s.G,s.I,f,v.d,u.a,b.q,p.w,p.q],styles:[".order-overview[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;border-radius:10px;box-shadow:0 1px 2px #0000000d;transition:all .3s ease}.order-overview[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000080;transform:translateY(5px)}@media (max-width: 600px){.order-overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 600px){.order-overview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}.overview-loaded[_ngcontent-%COMP%]{background-color:#fff}.loading[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{text-align:center;padding:20px}.error[_ngcontent-%COMP%]{color:#e53935}.order-text[_ngcontent-%COMP%]{border:2px dashed #6bf7f7;padding:.5rem;border-radius:10px}.gw-description[_ngcontent-%COMP%]{max-width:450px}.order-shipping[_ngcontent-%COMP%]{text-align:right;padding-right:1rem}.order-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.order-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.order-status[_ngcontent-%COMP%]{padding:4px 12px;border-radius:16px;font-size:14px;font-weight:500}.order-status.processing[_ngcontent-%COMP%]{background-color:#d0f3f8;color:#517c83}.order-status.on-hold[_ngcontent-%COMP%]{background-color:#fff8e1;color:#ff8f00}.order-status.pending[_ngcontent-%COMP%]{background-color:#fdffe1;color:#ffa32c}.order-status.completed[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.order-status.cancelled[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.order-status.trash[_ngcontent-%COMP%]{background-color:#d4d4d4;color:#363636}.order-container[_ngcontent-%COMP%]{padding:1rem}.order-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 600px){.order-details[_ngcontent-%COMP%]{flex-direction:column;gap:20px}}.order-items[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:15px}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #eee}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;color:#666}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%], .order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{text-align:right}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{font-weight:600}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{font-size:1.1em;text-align:right}"]})}return r})()}}]);