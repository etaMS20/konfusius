"use strict";(self.webpackChunkkonfusius=self.webpackChunkkonfusius||[]).push([[545],{27545:(F,p,r)=>{r.r(p),r.d(p,{OrderOverviewComponent:()=>k});var n=r(98961),c=r(71303),e=r(98244),u=r(85675),f=r(69134),_=r(6959);let g=(()=>{var i;class d{transform(o,...t){return new Date(o).toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}}return i=d,(0,n.A)(d,"\u0275fac",function(o){return new(o||i)}),(0,n.A)(d,"\u0275pipe",e.EJ8({name:"humanReadableDate",type:i,pure:!0})),d})();var s=r(34513),m=r(75011),l=r(886),v=r(69846),O=r(72591),M=r(26364),b=r(21385),y=r(34658),P=r(57237),E=r(90748),C=r(78073);const x=(i,d)=>({"overview-loading":i,"overview-loaded":d});function D(i,d){1&i&&(e.j41(0,"div",4),e.EFF(1,"Loading order details..."),e.k0s())}function w(i,d){if(1&i&&(e.j41(0,"div",5),e.EFF(1),e.k0s()),2&i){const a=e.XpG();e.R7$(),e.SpI(" ",a.error()," ")}}function A(i,d){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",16),e.EFF(6),e.k0s(),e.j41(7,"td",16),e.EFF(8),e.k0s()()),2&i){const a=d.$implicit,o=e.XpG(2);e.R7$(2),e.JRh(a.name),e.R7$(2),e.JRh(a.quantity),e.R7$(2),e.Lme(" ",a.price.toFixed(2),"",o._order.currency_symbol," "),e.R7$(2),e.Lme(" ",(a.quantity*a.price).toFixed(2),"",o._order.currency_symbol," ")}}function R(i,d){if(1&i&&(e.j41(0,"div",6)(1,"header",7)(2,"h2"),e.EFF(3),e.k0s(),e.nrm(4,"app-order-status",8),e.k0s(),e.j41(5,"div",9)(6,"div",10)(7,"p")(8,"strong"),e.EFF(9,"vom:"),e.k0s(),e.EFF(10),e.nI1(11,"humanReadableDate"),e.k0s(),e.j41(12,"p")(13,"strong"),e.EFF(14,"Zahlungsmethode:"),e.k0s(),e.EFF(15),e.k0s(),e.j41(16,"p",11),e.EFF(17),e.k0s()(),e.j41(18,"div",12)(19,"h3"),e.EFF(20,"Kontakt"),e.k0s(),e.j41(21,"address")(22,"p"),e.EFF(23),e.k0s(),e.j41(24,"p"),e.EFF(25),e.k0s(),e.j41(26,"p"),e.EFF(27),e.k0s(),e.j41(28,"p"),e.EFF(29),e.k0s()()()(),e.nrm(30,"mat-divider",13),e.j41(31,"div",14)(32,"p"),e.EFF(33," Du solltest jetzt eine vorl\xe4ufige Best\xe4tigungs-mail bekommen haben. Sobald die Zahlung verarbeitet ist, folgt eine separate mail. "),e.j41(34,"mat-icon"),e.EFF(35,"favorite"),e.k0s()(),e.j41(36,"p")(37,"strong"),e.EFF(38,"PS:"),e.k0s(),e.EFF(39," Du kannst dir die URL oben rauskopieren & speichern, um zu dieser Seite zur\xfcckzukehren "),e.k0s()(),e.j41(40,"div",15)(41,"table")(42,"thead")(43,"tr"),e.nrm(44,"th"),e.j41(45,"th"),e.EFF(46,"#"),e.k0s(),e.j41(47,"th",16),e.EFF(48,"Preis"),e.k0s(),e.j41(49,"th",16),e.EFF(50,"Total"),e.k0s()()(),e.j41(51,"tbody"),e.DNE(52,A,9,6,"tr",17),e.k0s(),e.j41(53,"tfoot")(54,"tr")(55,"td",18),e.EFF(56,"Kostenbeitrag"),e.k0s(),e.j41(57,"td",19),e.EFF(58),e.k0s()()()()()()),2&i){let a,o;const t=e.XpG();e.R7$(3),e.SpI("Anmeldung #",t._order.id,""),e.R7$(),e.Y8G("orderStatus",t._order.status),e.R7$(6),e.SpI(" ",e.bMT(11,15,t._order.date_created)," "),e.R7$(5),e.SpI(" ",null==(a=t.gateway())?null:a.title,""),e.R7$(2),e.JRh(null==(o=t.gateway())?null:o.description),e.R7$(6),e.Lme("",t._order.billing.first_name," ",t._order.billing.last_name,""),e.R7$(2),e.JRh(t._order.billing.address_1),e.R7$(2),e.E5c(" ",t._order.billing.city,", ",t._order.billing.postcode,", ",t._order.billing.country," "),e.R7$(2),e.JRh(t._order.billing.email),e.R7$(23),e.Y8G("ngForOf",t._order.line_items),e.R7$(6),e.Lme(" ",t._order.total,"",t._order.currency_symbol," ")}}let k=(()=>{var i;class d{constructor(){(0,n.A)(this,"wcApi",(0,e.WQX)(b.Z)),(0,n.A)(this,"route",(0,e.WQX)(_.x)),(0,n.A)(this,"cryptoService",(0,e.WQX)(s.L)),(0,n.A)(this,"errorService",(0,e.WQX)(m.I)),(0,n.A)(this,"lsService",(0,e.WQX)(y.s)),(0,n.A)(this,"destroy$",new l.B),(0,n.A)(this,"order",(0,e.vPA)(null)),(0,n.A)(this,"error",(0,e.vPA)(null)),(0,n.A)(this,"orderId",(0,e.vPA)(null)),(0,n.A)(this,"gateway",(0,e.vPA)(void 0)),(0,n.A)(this,"loading",(0,e.vPA)(!0))}ngOnInit(){this.lsService.removeItem(P.e.PRD_SEL_ID),this.lsService.removeItem(P.e.DISC_STATE),this.route.paramMap.subscribe(o=>{const t=o.get("id");if(t){const h=parseInt(this.cryptoService.decrypt(t),10);this.orderId.set(h),this.fetchOrderDetails(h)}else this.loading.set(!1)}),this.wcApi.getPaymentGateway("cod").pipe((0,v.W)(o=>(this.errorService.handleError(o),(0,O.$)(()=>o))),(0,M.Q)(this.destroy$)).subscribe(o=>{this.gateway.set(o)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}fetchOrderDetails(o){this.wcApi.getOrderById(o).pipe((0,v.W)(t=>(this.errorService.handleError(t),(0,O.$)(()=>t))),(0,M.Q)(this.destroy$)).subscribe(t=>{t&&this.order.set(t),this.loading.set(!1)})}get _order(){return this.order()}}return i=d,(0,n.A)(d,"\u0275fac",function(o){return new(o||i)}),(0,n.A)(d,"\u0275cmp",e.VBU({type:i,selectors:[["app-order-overview"]],decls:4,vars:7,consts:[[1,"order-overview",3,"ngClass"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],["class","order-container",4,"ngIf"],[1,"loading"],[1,"error"],[1,"order-container"],[1,"order-header"],[1,"status-cell",3,"orderStatus"],[1,"order-details"],[1,"order-info"],[1,"gw-description"],[1,"order-shipping"],[2,"margin","1rem 0"],[1,"order-text"],[1,"order-items"],[1,"price"],[4,"ngFor","ngForOf"],["colspan","3",1,"total-label"],[1,"total-value"]],template:function(o,t){1&o&&(e.j41(0,"div",0),e.DNE(1,D,2,0,"div",1)(2,w,2,1,"div",2)(3,R,59,17,"div",3),e.k0s()),2&o&&(e.Y8G("ngClass",e.l_i(4,x,t.loading(),!t.loading())),e.R7$(),e.Y8G("ngIf",t.loading()),e.R7$(),e.Y8G("ngIf",t.error()),e.R7$(),e.Y8G("ngIf",t.order()&&!t.loading()))},dependencies:[c.D,c.E,c.G,c.I,g,u.d,f.a,E.q,C.w,C.q],styles:[".order-overview[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;border-radius:10px;box-shadow:0 1px 2px #0000000d;transition:all .3s ease}.order-overview[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000080;transform:translateY(5px)}@media (max-width: 600px){.order-overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 600px){.order-overview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}.overview-loaded[_ngcontent-%COMP%]{background-color:#fff}.loading[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{text-align:center;padding:20px}.error[_ngcontent-%COMP%]{color:#e53935}.order-text[_ngcontent-%COMP%]{border:2px dashed #6bf7f7;padding:.5rem;border-radius:10px}.gw-description[_ngcontent-%COMP%]{max-width:450px}.order-shipping[_ngcontent-%COMP%]{text-align:right;padding-right:1rem}.order-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.order-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.order-status[_ngcontent-%COMP%]{padding:4px 12px;border-radius:16px;font-size:14px;font-weight:500}.order-status.processing[_ngcontent-%COMP%]{background-color:#d0f3f8;color:#517c83}.order-status.on-hold[_ngcontent-%COMP%]{background-color:#fff8e1;color:#ff8f00}.order-status.pending[_ngcontent-%COMP%]{background-color:#fdffe1;color:#ffa32c}.order-status.completed[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.order-status.cancelled[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.order-status.trash[_ngcontent-%COMP%]{background-color:#d4d4d4;color:#363636}.order-container[_ngcontent-%COMP%]{padding:1rem}.order-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 600px){.order-details[_ngcontent-%COMP%]{flex-direction:column;gap:20px}}.order-items[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:15px}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #eee}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;color:#666}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%], .order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{text-align:right}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{font-weight:600}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{font-size:1.1em;text-align:right}"]})),d})()},78073:(F,p,r)=>{r.d(p,{q:()=>f,w:()=>_});var n=r(98961),c=r(98244),e=r(36750),u=r(37536);let f=(()=>{var g;class s{constructor(){(0,n.A)(this,"_vertical",!1),(0,n.A)(this,"_inset",!1)}get vertical(){return this._vertical}set vertical(l){this._vertical=(0,e.he)(l)}get inset(){return this._inset}set inset(l){this._inset=(0,e.he)(l)}}return g=s,(0,n.A)(s,"\u0275fac",function(l){return new(l||g)}),(0,n.A)(s,"\u0275cmp",c.VBU({type:g,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(l,v){2&l&&(c.BMQ("aria-orientation",v.vertical?"vertical":"horizontal"),c.AVh("mat-divider-vertical",v.vertical)("mat-divider-horizontal",!v.vertical)("mat-divider-inset",v.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(l,v){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})),s})(),_=(()=>{var g;class s{}return g=s,(0,n.A)(s,"\u0275fac",function(l){return new(l||g)}),(0,n.A)(s,"\u0275mod",c.$C({type:g})),(0,n.A)(s,"\u0275inj",c.G2t({imports:[u.M,u.M]})),s})()}}]);