"use strict";(self.webpackChunkkonfusius=self.webpackChunkkonfusius||[]).push([[543],{7543:(E,l,t)=>{t.r(l),t.d(l,{LoginComponent:()=>h});var c=t(1303),o=t(8244),n=t(3426),u=t(300),p=t(925),m=t(5493),d=t(5023),_=t(5200),a=t(6916);function f(e,M){if(1&e&&(o.j41(0,"mat-error"),o.EFF(1),o.k0s()),2&e){const r=o.XpG();o.R7$(),o.SpI(" ",r.errorMessage," ")}}let h=(()=>{class e{authService=(0,o.WQX)(_.u);fb=(0,o.WQX)(n.ze);router=(0,o.WQX)(d.t);route=(0,o.WQX)(d.x);loginForm;redirectUrl=null;constructor(){this.loginForm=this.fb.group({password:new n.MJ("",[n.k0.required,this.passwordValidator.bind(this)]),remember:[!0]})}ngOnInit(){this.redirectUrl=this.route.snapshot.queryParamMap.get("redirect"),this.loginForm.controls.password.markAsTouched()}passwordValidator(r){return null}get errorMessage(){const r=this.loginForm.get("password");return r?.hasError("required")?"Passwort ist erforderlich":r?.hasError("incorrect")?"Falsches Passwort":""}updateErrorMessage(){}onInput(){this.loginForm.controls.password.markAsTouched()}onSubmit(){const r=this.loginForm.get("password")?.value;this.authService.login(r)?this.router.navigate([this.redirectUrl?this.redirectUrl:"/"]):(this.loginForm.get("password")?.setErrors({incorrect:!0}),this.loginForm.controls.password.markAsTouched())}static \u0275fac=function(s){return new(s||e)};static \u0275cmp=o.VBU({type:e,selectors:[["app-login"]],decls:11,vars:3,consts:[[1,"login-form"],["autocomplete","on",3,"ngSubmit","formGroup"],[1,"image-container"],["src","./public/schweini_1.png","alt","Logo",1,"form-field-image"],["appearance","fill"],["matInput","","type","password","formControlName","password","autocomplete","current-password","required","",3,"input","blur"],[4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(s,i){1&s&&(o.j41(0,"div",0)(1,"form",1),o.bIt("ngSubmit",function(){return i.onSubmit()}),o.j41(2,"div",2),o.nrm(3,"img",3),o.k0s(),o.j41(4,"mat-form-field",4)(5,"mat-label"),o.EFF(6,"Passwort"),o.k0s(),o.j41(7,"input",5),o.bIt("input",function(){return i.onInput()})("blur",function(){return i.updateErrorMessage()}),o.k0s(),o.DNE(8,f,2,1,"mat-error",6),o.k0s(),o.j41(9,"button",7),o.EFF(10," Anmelden "),o.k0s()()()),2&s&&(o.R7$(),o.Y8G("formGroup",i.loginForm),o.R7$(7),o.Y8G("ngIf",i.loginForm.controls.password.invalid&&i.loginForm.controls.password.touched),o.R7$(),o.Y8G("disabled",!i.loginForm.touched))},dependencies:[p.M,a.k,a.b,a.d,n.X1,n.qT,n.me,n.BC,n.cb,n.YS,n.j4,n.JD,m.fS,m.fg,u.h,u.M,c.I],styles:[".login-form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:auto;padding:1rem}.image-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding:1.5rem}.form-field-image[_ngcontent-%COMP%]{display:block;height:auto;width:100%;border-radius:5%}form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 4px 8px #0000001a;width:100%;max-width:400px}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1.5rem}button[_ngcontent-%COMP%]{width:100%;padding:.8rem;font-size:1rem;border-radius:4px;border:2px solid #007bff;background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#007bff}mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1rem}"]})}return e})()}}]);