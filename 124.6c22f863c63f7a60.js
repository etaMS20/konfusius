"use strict";(self.webpackChunkkonfusius=self.webpackChunkkonfusius||[]).push([[124],{23124:(A,c,o)=>{o.r(c),o.d(c,{OrderOverviewComponent:()=>j});var d=o(98961),a=o(71303),e=o(98244),h=o(85675),f=o(69134),O=o(35023);let C=(()=>{var r;class i{transform(n,...t){return new Date(n).toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}}return r=i,(0,d.A)(i,"\u0275fac",function(n){return new(n||r)}),(0,d.A)(i,"\u0275pipe",e.EJ8({name:"humanReadableDate",type:r,pure:!0})),i})();var P=o(57447),F=o(16830),M=o(886),g=o(69846),m=o(72591),p=o(26364),b=o(17011),x=o(17258),v=o(97715),y=o(86818),u=o(78073);const E=(r,i)=>({"overview-loading":r,"overview-loaded":i});function w(r,i){1&r&&(e.j41(0,"div",4),e.EFF(1,"Loading order details..."),e.k0s())}function _(r,i){if(1&r&&(e.j41(0,"div",5),e.EFF(1),e.k0s()),2&r){const s=e.XpG();e.R7$(),e.SpI(" ",s.error()," ")}}function R(r,i){if(1&r&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",16),e.EFF(6),e.k0s(),e.j41(7,"td",16),e.EFF(8),e.k0s()()),2&r){const s=i.$implicit,n=e.XpG(2);e.R7$(2),e.JRh(s.name),e.R7$(2),e.JRh(s.quantity),e.R7$(2),e.Lme(" ",s.price.toFixed(2),"",n._order.currency_symbol," "),e.R7$(2),e.Lme(" ",(s.quantity*s.price).toFixed(2),"",n._order.currency_symbol," ")}}function k(r,i){if(1&r&&(e.j41(0,"div",6)(1,"header",7)(2,"h2"),e.EFF(3),e.k0s(),e.nrm(4,"app-order-status",8),e.k0s(),e.j41(5,"div",9)(6,"div",10)(7,"p")(8,"strong"),e.EFF(9,"vom:"),e.k0s(),e.EFF(10),e.nI1(11,"humanReadableDate"),e.k0s(),e.j41(12,"p")(13,"strong"),e.EFF(14,"Zahlungsmethode:"),e.k0s(),e.EFF(15),e.k0s(),e.j41(16,"p",11),e.EFF(17),e.k0s()(),e.j41(18,"div",12)(19,"h3"),e.EFF(20,"Kontakt"),e.k0s(),e.j41(21,"address")(22,"p"),e.EFF(23),e.k0s(),e.j41(24,"p"),e.EFF(25),e.k0s(),e.j41(26,"p"),e.EFF(27),e.k0s(),e.j41(28,"p"),e.EFF(29),e.k0s()()()(),e.nrm(30,"mat-divider",13),e.j41(31,"div",14)(32,"p"),e.EFF(33," Du solltest jetzt eine vorl\xe4ufige Best\xe4tigungs-mail bekommen haben. Sobald die Zahlung verarbeitet ist, folgt eine separate mail. "),e.j41(34,"mat-icon"),e.EFF(35,"favorite"),e.k0s()(),e.j41(36,"p")(37,"strong"),e.EFF(38,"PS:"),e.k0s(),e.EFF(39," Du kannst dir die URL oben rauskopieren & speichern, um zu dieser Seite zur\xfcckzukehren "),e.k0s()(),e.j41(40,"div",15)(41,"table")(42,"thead")(43,"tr"),e.nrm(44,"th"),e.j41(45,"th"),e.EFF(46,"#"),e.k0s(),e.j41(47,"th",16),e.EFF(48,"Preis"),e.k0s(),e.j41(49,"th",16),e.EFF(50,"Total"),e.k0s()()(),e.j41(51,"tbody"),e.DNE(52,R,9,6,"tr",17),e.k0s(),e.j41(53,"tfoot")(54,"tr")(55,"td",18),e.EFF(56,"Kostenbeitrag"),e.k0s(),e.j41(57,"td",19),e.EFF(58),e.k0s()()()()()()),2&r){let s,n;const t=e.XpG();e.R7$(3),e.SpI("Anmeldung #",t._order.id,""),e.R7$(),e.Y8G("orderStatus",t._order.status),e.R7$(6),e.SpI(" ",e.bMT(11,15,t._order.date_created)," "),e.R7$(5),e.SpI(" ",null==(s=t.gateway())?null:s.title,""),e.R7$(2),e.JRh(null==(n=t.gateway())?null:n.description),e.R7$(6),e.Lme("",t._order.billing.first_name," ",t._order.billing.last_name,""),e.R7$(2),e.JRh(t._order.billing.address_1),e.R7$(2),e.E5c(" ",t._order.billing.city,", ",t._order.billing.postcode,", ",t._order.billing.country," "),e.R7$(2),e.JRh(t._order.billing.email),e.R7$(23),e.Y8G("ngForOf",t._order.line_items),e.R7$(6),e.Lme(" ",t._order.total,"",t._order.currency_symbol," ")}}let j=(()=>{var r;class i{constructor(){(0,d.A)(this,"wcApi",(0,e.WQX)(b.Z)),(0,d.A)(this,"route",(0,e.WQX)(O.x)),(0,d.A)(this,"cryptoService",(0,e.WQX)(P.L)),(0,d.A)(this,"errorService",(0,e.WQX)(F.I)),(0,d.A)(this,"lsService",(0,e.WQX)(x.s)),(0,d.A)(this,"destroy$",new M.B),(0,d.A)(this,"order",(0,e.vPA)(null)),(0,d.A)(this,"error",(0,e.vPA)(null)),(0,d.A)(this,"orderId",(0,e.vPA)(null)),(0,d.A)(this,"gateway",(0,e.vPA)(void 0)),(0,d.A)(this,"loading",(0,e.vPA)(!0))}ngOnInit(){this.lsService.removeItem(v.e.PRD_SEL_ID),this.lsService.removeItem(v.e.DISC_STATE),this.route.paramMap.subscribe(n=>{const t=n.get("id");if(t){const l=parseInt(this.cryptoService.decrypt(t),10);this.orderId.set(l),this.fetchOrderDetails(l)}else this.loading.set(!1)}),this.wcApi.getPaymentGateway("cod").pipe((0,g.W)(n=>(this.errorService.handleError(n),(0,m.$)(()=>n))),(0,p.Q)(this.destroy$)).subscribe(n=>{this.gateway.set(n)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}fetchOrderDetails(n){this.wcApi.getOrderById(n).pipe((0,g.W)(t=>(this.errorService.handleError(t),(0,m.$)(()=>t))),(0,p.Q)(this.destroy$)).subscribe(t=>{t&&this.order.set(t),this.loading.set(!1)})}get _order(){return this.order()}}return r=i,(0,d.A)(i,"\u0275fac",function(n){return new(n||r)}),(0,d.A)(i,"\u0275cmp",e.VBU({type:r,selectors:[["app-order-overview"]],decls:4,vars:7,consts:[[1,"order-overview",3,"ngClass"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],["class","order-container",4,"ngIf"],[1,"loading"],[1,"error"],[1,"order-container"],[1,"order-header"],[1,"status-cell",3,"orderStatus"],[1,"order-details"],[1,"order-info"],[1,"gw-description"],[1,"order-shipping"],[2,"margin","1rem 0"],[1,"order-text"],[1,"order-items"],[1,"price"],[4,"ngFor","ngForOf"],["colspan","3",1,"total-label"],[1,"total-value"]],template:function(n,t){1&n&&(e.j41(0,"div",0),e.DNE(1,w,2,0,"div",1)(2,_,2,1,"div",2)(3,k,59,17,"div",3),e.k0s()),2&n&&(e.Y8G("ngClass",e.l_i(4,E,t.loading(),!t.loading())),e.R7$(),e.Y8G("ngIf",t.loading()),e.R7$(),e.Y8G("ngIf",t.error()),e.R7$(),e.Y8G("ngIf",t.order()&&!t.loading()))},dependencies:[a.D,a.E,a.G,a.I,C,h.d,f.a,y.q,u.w,u.q],styles:[".order-overview[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;border-radius:10px;box-shadow:0 1px 2px #0000000d;transition:all .3s ease}.order-overview[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000080;transform:translateY(5px)}@media (max-width: 600px){.order-overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 600px){.order-overview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}.overview-loaded[_ngcontent-%COMP%]{background-color:#fff}.loading[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{text-align:center;padding:20px}.error[_ngcontent-%COMP%]{color:#e53935}.order-text[_ngcontent-%COMP%]{border:2px dashed #6bf7f7;padding:.5rem;border-radius:10px}.gw-description[_ngcontent-%COMP%]{max-width:450px}.order-shipping[_ngcontent-%COMP%]{text-align:right;padding-right:1rem}.order-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.order-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.order-status[_ngcontent-%COMP%]{padding:4px 12px;border-radius:16px;font-size:14px;font-weight:500}.order-status.processing[_ngcontent-%COMP%]{background-color:#d0f3f8;color:#517c83}.order-status.on-hold[_ngcontent-%COMP%]{background-color:#fff8e1;color:#ff8f00}.order-status.pending[_ngcontent-%COMP%]{background-color:#fdffe1;color:#ffa32c}.order-status.completed[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.order-status.cancelled[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.order-status.trash[_ngcontent-%COMP%]{background-color:#d4d4d4;color:#363636}.order-container[_ngcontent-%COMP%]{padding:1rem}.order-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 600px){.order-details[_ngcontent-%COMP%]{flex-direction:column;gap:20px}}.order-items[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:15px}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #eee}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;color:#666}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%], .order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{text-align:right}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{font-weight:600}.order-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{font-size:1.1em;text-align:right}"]})),i})()}}]);