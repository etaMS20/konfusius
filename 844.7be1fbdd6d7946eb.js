"use strict";(self.webpackChunkkonfusius=self.webpackChunkkonfusius||[]).push([[844],{48844:($t,P,s)=>{s.r(P),s.d(P,{TicketsComponent:()=>Rt});var i=s(98961),t=s(98244),j=s(1789),l=s(71303),c=s(73426),u=s(70300),X=s(78073),A=s(30925),k=s(97797),f=s(69134),h=s(886),v=s(72591),p=s(26364),L=s(23215),_=s(69846);let D=(()=>{var r;class a{set disableControl(e){this.ngControl.control&&this.ngControl.control[e?"disable":"enable"]()}constructor(e){(0,i.A)(this,"ngControl",void 0),this.ngControl=e}}return r=a,(0,i.A)(a,"\u0275fac",function(e){return new(e||r)(t.rXU(c.vO))}),(0,i.A)(a,"\u0275dir",t.FsC({type:r,selectors:[["","disableControl",""]],inputs:{disableControl:"disableControl"}})),a})();var w=s(75011),I=s(93178),z=s(96668),x=s(27649),O=s(59200),Y=s(69477),M=(s(98615),s(37536));function W(r,a){1&r&&t.nrm(0,"div",2)}const Q=new t.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let T=(()=>{var r;class a{constructor(){(0,i.A)(this,"_elementRef",(0,t.WQX)(t.aKT)),(0,i.A)(this,"_ngZone",(0,t.WQX)(t.SKi)),(0,i.A)(this,"_changeDetectorRef",(0,t.WQX)(t.gRc)),(0,i.A)(this,"_renderer",(0,t.WQX)(t.sFG)),(0,i.A)(this,"_cleanupTransitionEnd",void 0),(0,i.A)(this,"_animationMode",(0,t.WQX)(t.bc$,{optional:!0})),(0,i.A)(this,"_isNoopAnimation",!1),(0,i.A)(this,"_color",void 0),(0,i.A)(this,"_defaultColor","primary"),(0,i.A)(this,"_value",0),(0,i.A)(this,"_bufferValue",0),(0,i.A)(this,"animationEnd",new t.bkB),(0,i.A)(this,"_mode","determinate"),(0,i.A)(this,"_transitionendHandler",o=>{0===this.animationEnd.observers.length||!o.target||!o.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))});const e=(0,t.WQX)(Q,{optional:!0});this._isNoopAnimation="NoopAnimations"===this._animationMode,e&&(e.color&&(this.color=this._defaultColor=e.color),this.mode=e.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(e){this._color=e}get value(){return this._value}set value(e){this._value=F(e||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=F(e||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}}return r=a,(0,i.A)(a,"\u0275fac",function(e){return new(e||r)}),(0,i.A)(a,"\u0275cmp",t.VBU({type:r,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(e,o){2&e&&(t.BMQ("aria-valuenow",o._isIndeterminate()?null:o.value)("mode",o.mode),t.HbH("mat-"+o.color),t.AVh("_mat-animation-noopable",o._isNoopAnimation)("mdc-linear-progress--animation-ready",!o._isNoopAnimation)("mdc-linear-progress--indeterminate",o._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",t.Udg],bufferValue:[2,"bufferValue","bufferValue",t.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(e,o){1&e&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.DNE(2,W,1,0,"div",2),t.k0s(),t.j41(3,"div",3),t.nrm(4,"span",4),t.k0s(),t.j41(5,"div",5),t.nrm(6,"span",4),t.k0s()),2&e&&(t.R7$(),t.xc7("flex-basis",o._getBufferBarFlexBasis()),t.R7$(),t.vxM("buffer"===o.mode?2:-1),t.R7$(),t.xc7("transform",o._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}"],encapsulation:2,changeDetection:0})),a})();function F(r,a=0,n=100){return Math.max(a,Math.min(n,r))}let E=(()=>{var r;class a{}return r=a,(0,i.A)(a,"\u0275fac",function(e){return new(e||r)}),(0,i.A)(a,"\u0275mod",t.$C({type:r})),(0,i.A)(a,"\u0275inj",t.G2t({imports:[M.M]})),a})();var y=s(38203),S=s(38928);function U(r,a){if(1&r&&(t.j41(0,"mat-radio-button",3),t.nrm(1,"span",4),t.nI1(2,"safeHtml"),t.k0s()),2&r){const n=a.$implicit,e=t.XpG();t.Y8G("value",n.id)("disableControl",e.disableOptionsForm()),t.R7$(),t.Y8G("innerHTML",t.bMT(2,3,n.description),t.npT)}}let Z=(()=>{var r;class a{constructor(){(0,i.A)(this,"crossSaleProductSelected",new t.bkB),(0,i.A)(this,"crossSaleItems",[]),(0,i.A)(this,"disableOptionsForm",t.hFB.required()),(0,i.A)(this,"destroy$",new h.B),(0,i.A)(this,"fb",(0,t.WQX)(c.ok)),(0,i.A)(this,"optionsForm",this.fb.group({variationId:new c.MJ(S.aj.SOLI,[c.k0.required])}))}ngOnInit(){this.onSelectionChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSelectionChange(){this.crossSaleProductSelected.emit(this.optionsForm.value.variationId)}}return r=a,(0,i.A)(a,"\u0275fac",function(e){return new(e||r)}),(0,i.A)(a,"\u0275cmp",t.VBU({type:r,selectors:[["app-cross-sale-options"]],inputs:{crossSaleItems:"crossSaleItems",disableOptionsForm:[1,"disableOptionsForm"]},outputs:{crossSaleProductSelected:"crossSaleProductSelected"},decls:3,vars:2,consts:[[1,"options-wrapper"],[1,"options-group","slimline",3,"change","formControl"],[3,"value","disableControl",4,"ngFor","ngForOf"],[3,"value","disableControl"],[1,"radio-label",3,"innerHTML"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"mat-radio-group",1),t.bIt("change",function(){return o.onSelectionChange()}),t.DNE(2,U,3,5,"mat-radio-button",2),t.k0s()()),2&e&&(t.R7$(),t.Y8G("formControl",o.optionsForm.controls.variationId),t.R7$(),t.Y8G("ngForOf",o.crossSaleItems))},dependencies:[y.Wk,y.VT,y._g,l.D,l.G,c.X1,c.BC,c.l_,x.$,D],styles:[".options-wrapper[_ngcontent-%COMP%]{margin:auto}@media (max-width: 700px){.options-wrapper[_ngcontent-%COMP%]{margin:.25rem auto}}.options-group[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}"],changeDetection:0})),a})();var b=s(14888),K=s(25204);function J(r,a){1&r&&(t.j41(0,"div"),t.nrm(1,"mat-progress-bar",11),t.k0s())}function q(r,a){1&r&&(t.j41(0,"mat-error"),t.EFF(1,"Zeit ist f\xfcr diese Schicht notwendig"),t.k0s())}function tt(r,a){if(1&r&&(t.j41(0,"mat-option",15),t.nrm(1,"span",16),t.nI1(2,"safeHtml"),t.k0s()),2&r){const n=a.$implicit;t.Y8G("value",n.id),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.variation),t.npT)}}function et(r,a){if(1&r&&(t.j41(0,"div")(1,"mat-form-field",12)(2,"mat-label"),t.EFF(3,"W\xe4hle eine Zeit"),t.k0s(),t.DNE(4,q,2,0,"mat-error",2),t.j41(5,"mat-select",13),t.DNE(6,tt,3,4,"mat-option",14),t.k0s()()()),2&r){const n=t.XpG(2);t.R7$(),t.Y8G("matTooltipDisabled",0!==n.productVariations.length),t.R7$(3),t.Y8G("ngIf",n.selectForm.invalid),t.R7$(),t.Y8G("formControl",n.selectForm.controls.variationId)("required",n.isProductVariable)("disableControl",0===n.productVariations.length),t.R7$(),t.Y8G("ngForOf",n.productVariations)}}function rt(r,a){if(1&r){const n=t.RV6();t.j41(0,"app-cross-sale-options",17),t.bIt("crossSaleProductSelected",function(o){t.eBV(n);const d=t.XpG(2);return t.Njj(d.onCrossSaleSelected(o))}),t.k0s()}if(2&r){const n=t.XpG(2);t.Y8G("crossSaleItems",n.crossSaleItems())("disableOptionsForm",n.disableCrossSale())}}function at(r,a){if(1&r){const n=t.RV6();t.j41(0,"div",1),t.DNE(1,J,2,0,"div",2),t.nI1(2,"async"),t.j41(3,"div",3)(4,"div",4)(5,"h4"),t.EFF(6),t.k0s(),t.j41(7,"p"),t.EFF(8," Regul\xe4rer Preis: "),t.j41(9,"strong"),t.EFF(10),t.k0s()()(),t.j41(11,"div",5),t.DNE(12,et,7,6,"div",2)(13,rt,1,2,"app-cross-sale-options",6),t.k0s(),t.j41(14,"div",7)(15,"div",8)(16,"button",9),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.checkout())}),t.j41(17,"span",10),t.EFF(18,"Weiter zum Checkout"),t.k0s()()()()()()}if(2&r){const n=t.XpG();t.R7$(),t.Y8G("ngIf",t.bMT(2,7,n.loadingCheckout$)),t.R7$(5),t.SpI("Schicht: ",n.product().name,""),t.R7$(4),t.JRh(n.formattedPrice),t.R7$(2),t.Y8G("ngIf",n.isProductVariable),t.R7$(),t.vxM(n.crossSaleItems()?13:-1),t.R7$(2),t.Y8G("matTooltipDisabled",n.isCheckoutValid),t.R7$(),t.Y8G("disabled",!n.isCheckoutValid)}}let it=(()=>{var r;class a{constructor(){(0,i.A)(this,"product",t.hFB.required()),(0,i.A)(this,"isProductVariable",void 0),(0,i.A)(this,"productVariations",[]),(0,i.A)(this,"loadingCheckout$",new h.B),(0,i.A)(this,"destroy$",new h.B),(0,i.A)(this,"wcStore",(0,t.WQX)(I.q)),(0,i.A)(this,"fb",(0,t.WQX)(c.ok)),(0,i.A)(this,"errorService",(0,t.WQX)(w.I)),(0,i.A)(this,"router",(0,t.WQX)(z.t)),(0,i.A)(this,"selectForm",this.fb.group({variationId:new c.MJ(null,[c.k0.required])})),(0,i.A)(this,"crossSaleItems",(0,t.hFB)([])),(0,i.A)(this,"selectedCossSaleItemId",(0,t.vPA)(S.aj.SOLI)),(0,i.A)(this,"disableCrossSale",(0,t.vPA)(!0))}ngOnInit(){this.selectForm.controls.variationId.statusChanges.pipe((0,p.Q)(this.destroy$)).subscribe(e=>{this.disableCrossSale.set("VALID"!==e)})}ngOnChanges(e){e.product&&this.selectForm&&(this.selectForm.controls.variationId.setValidators(this.isProductVariable?[c.k0.required]:[]),this.selectForm.controls.variationId.markAsPending(),this.selectForm.controls.variationId.reset(null,{emitEvent:!0}),this.disableCrossSale.set(!this.isCheckoutValid))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onVariationSelected(e){this.disableCrossSale.set(null===e.value)}get formattedPrice(){const e=this.product();return e?e.prices.price_range?(0,O.Y)(e.prices.price_range,e.prices.currency_thousand_separator,e.prices.currency_decimal_separator,e.prices.currency_minor_unit,e.prices.currency_symbol):(0,O.$)(e.prices.price,e.prices.currency_thousand_separator,e.prices.currency_decimal_separator,e.prices.currency_minor_unit,e.prices.currency_symbol):""}get isCheckoutValid(){return this.isProductVariable?this.selectForm.valid:this.product()?.is_in_stock??!1}onCrossSaleSelected(e){this.selectedCossSaleItemId.set(e)}checkout(){const e=this.isProductVariable?this.selectForm.get("variationId").value:this.product()?.id;if(e){const o=[e,this.selectedCossSaleItemId()];this.wcStore.deleteAllCartItems().pipe((0,Y.W)(this.loadingCheckout$),(0,L.H)(()=>this.wcStore.batchItemsToCart(o)),(0,_.W)(d=>(this.errorService.handleError(d),(0,v.$)(()=>d))),(0,p.Q)(this.destroy$)).subscribe({complete:()=>{this.router.navigate(["/checkout"])}})}}}return r=a,(0,i.A)(a,"\u0275fac",function(e){return new(e||r)}),(0,i.A)(a,"\u0275cmp",t.VBU({type:r,selectors:[["app-product-details"]],inputs:{product:[1,"product"],isProductVariable:"isProductVariable",productVariations:"productVariations",crossSaleItems:[1,"crossSaleItems"]},features:[t.OA$],decls:1,vars:1,consts:[["class","checkout",4,"ngIf"],[1,"checkout"],[4,"ngIf"],[1,"checkout-content"],[1,"left-container"],[1,"middle-container"],[3,"crossSaleItems","disableOptionsForm"],[1,"right-container"],["matTooltip","Schicht / Zeit nicht mehr verf\xfcgbar",1,"checkout-button-row",3,"matTooltipDisabled"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"checkout-label"],["mode","query"],["appearance","outline","matTooltip","Es sind leider keine Zeiten mehr f\xfcr diese Schicht verf\xfcgbar","subscriptSizing","dynamic",1,"slimline",3,"matTooltipDisabled"],["panelWidth","auto",3,"formControl","required","disableControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"innerHTML"],[3,"crossSaleProductSelected","crossSaleItems","disableOptionsForm"]],template:function(e,o){1&e&&t.DNE(0,at,19,9,"div",0),2&e&&t.Y8G("ngIf",o.product)},dependencies:[l.D,l.G,l.I,l.V,A.M,b.k,b.b,b.d,k.a,k.M,K.a,X.w,u.h,u.M,f.a,f.M,c.X1,c.BC,c.YS,c.l_,D,x.$,E,T,Z],styles:["[_nghost-%COMP%]{--footer-height-desktop: 90px;--footer-height-mobile: 200px}.checkout[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:#f8f9fa;padding:.5rem 1rem;box-shadow:0 -2px 5px #0000001a;z-index:50;box-sizing:border-box;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.checkout-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr 1fr;align-items:center;max-width:1400px;margin:0 auto}@media (max-width: 700px){.checkout-content[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-rows:auto auto}}.checkout-content[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .2rem;font-size:1rem;font-weight:400}.checkout-content[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#555}@media (max-width: 700px){.checkout-content[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{grid-row:1;text-align:center;margin-bottom:8px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;height:100%}.checkout-content[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .checkout-content[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 700px){.checkout-content[_ngcontent-%COMP%]   .middle-container[_ngcontent-%COMP%]{grid-row:2;width:100%}}.checkout-content[_ngcontent-%COMP%]   .middle-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.checkout-content[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}@media (max-width: 700px){.checkout-content[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]{grid-row:3;justify-content:center}}.checkout-content[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   .checkout-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:180px}.checkout-content[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   .checkout-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .checkout-label[_ngcontent-%COMP%]{font-size:1rem;white-space:nowrap}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.checkout-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:4px;transition:all .2s ease}.checkout-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.7}.slimline[_ngcontent-%COMP%]{--mdc-outlined-text-field-outline-color: rgba(0, 0, 255, .575);--mdc-outlined-text-field-outline-width: 2px}"],changeDetection:0})),a})();var C=function(r){return r.VARIABLE="variable",r.SIMPLE="simple",r}(C||{});const nt={[C.VARIABLE]:"Schicht mit variablen Zeiten",[C.SIMPLE]:"Einfache Schicht"};var ot=s(1134);const st=["*"],ut=new t.nKC("MAT_CARD_CONFIG");let G=(()=>{var r;class a{constructor(){(0,i.A)(this,"appearance",void 0);const e=(0,t.WQX)(ut,{optional:!0});this.appearance=e?.appearance||"raised"}}return r=a,(0,i.A)(a,"\u0275fac",function(e){return new(e||r)}),(0,i.A)(a,"\u0275cmp",t.VBU({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,o){2&e&&t.AVh("mat-mdc-card-outlined","outlined"===o.appearance)("mdc-card--outlined","outlined"===o.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:st,decls:1,vars:0,template:function(e,o){1&e&&(t.NAR(),t.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})),a})(),pt=(()=>{var r;class a{}return r=a,(0,i.A)(a,"\u0275fac",function(e){return new(e||r)}),(0,i.A)(a,"\u0275mod",t.$C({type:r})),(0,i.A)(a,"\u0275inj",t.G2t({imports:[M.M,M.M]})),a})();var gt=s(30097),ht=s(17921);function ft(r,a){if(1&r&&(t.j41(0,"span",3),t.EFF(1),t.k0s()),2&r){const n=a.ngIf;t.AVh("in-stock",n.is_in_stock)("out-of-stock",!n.is_in_stock),t.R7$(),t.SpI(" ",n.is_in_stock?"in-stock":"out-of-stock"," ")}}function vt(r,a){1&r&&(t.j41(0,"span",4),t.EFF(1),t.k0s()),2&r&&(t.R7$(),t.SpI(" ","discount"," "))}let _t=(()=>{var r;class a{constructor(){(0,i.A)(this,"product",t.hFB.required()),(0,i.A)(this,"onSale",(0,t.EWP)(()=>590==this.product().id))}}return r=a,(0,i.A)(a,"\u0275fac",function(e){return new(e||r)}),(0,i.A)(a,"\u0275cmp",t.VBU({type:r,selectors:[["app-stock-check"]],inputs:{product:[1,"product"]},decls:3,vars:2,consts:[[1,"status-container"],["class","stock-status",3,"in-stock","out-of-stock",4,"ngIf"],["class","on-sale",4,"ngIf"],[1,"stock-status"],[1,"on-sale"]],template:function(e,o){1&e&&(t.j41(0,"div",0),t.DNE(1,ft,2,5,"span",1)(2,vt,2,1,"span",2),t.k0s()),2&e&&(t.R7$(),t.Y8G("ngIf",o.product()),t.R7$(),t.Y8G("ngIf",o.onSale()))},dependencies:[l.D,l.I],styles:[".stock-status[_ngcontent-%COMP%]{padding:.2rem 0;border-radius:.5rem;font-size:.65rem;position:absolute;top:5px;right:5px}.stock-status.out-of-stock[_ngcontent-%COMP%]{background-color:#ececec;color:#696969}.stock-status.in-stock[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}@media (max-width: 1000px){.stock-status[_ngcontent-%COMP%]{font-size:.6rem}}.on-sale[_ngcontent-%COMP%]{padding:.2rem .4rem;font-size:.8rem;font-weight:700;position:absolute;top:10px;left:10px;background-color:#ffebee;border:solid grey 1px;color:#c62828;text-transform:uppercase}@media (max-width: 1000px){.on-sale[_ngcontent-%COMP%]{font-size:.7rem;padding:.1rem .3rem}}"],changeDetection:0})),a})();var bt=s(36888);const Ct=r=>({selected:r});function xt(r,a){if(1&r){const n=t.RV6();t.j41(0,"mat-card",2),t.bIt("click",function(o){t.eBV(n);const d=t.XpG();return t.Njj(d.onProductSelect(o))})("keydown",function(o){t.eBV(n);const d=t.XpG();return t.Njj(d.onProductSelect(o))}),t.nrm(1,"app-stock-check",3)(2,"img",4),t.j41(3,"h3",5),t.EFF(4),t.k0s(),t.j41(5,"button",6),t.bIt("click",function(o){t.eBV(n);const d=t.XpG();return t.Njj(d.openDetailsDialog(o))}),t.EFF(6," Beschreibung "),t.k0s()()}if(2&r){const n=t.XpG();t.FS9("matTooltip",n.productTooltip()),t.Y8G("ngClass",t.eq3(8,Ct,n.isSelectedSignal()))("matTooltipPosition","above"),t.R7$(),t.Y8G("product",n.product),t.R7$(),t.Y8G("src",n.product.images[0].thumbnail,t.B4B)("srcset",n.product.images[0].srcset)("alt",n.product.images[0].alt),t.R7$(2),t.JRh(n.product.name)}}let Mt=(()=>{var r;class a{constructor(e){(0,i.A)(this,"dialog",void 0),(0,i.A)(this,"product",void 0),(0,i.A)(this,"selectedProductId",void 0),(0,i.A)(this,"productSelected",new t.bkB),(0,i.A)(this,"isSelectedSignal",(0,t.vPA)(this.isProductSelected())),(0,i.A)(this,"productTooltip",(0,t.EWP)(()=>this.product?.type?nt[this.product.type]:"")),this.dialog=e}isProductSelected(){return this.selectedProductId===this.product?.id}ngOnInit(){this.isSelectedSignal.set(this.isProductSelected())}ngOnChanges(e){e.selectedProductId&&this.isSelectedSignal.set(this.isProductSelected())}onProductSelect(e){if(e.stopPropagation(),e instanceof KeyboardEvent){const o=e.key.toLowerCase();if("escape"===o)return void this.productSelected.emit(null);if("enter"!==o&&" "!==o)return;e.preventDefault()}this.isProductSelected()?this.productSelected.emit(null):this.productSelected.emit(this.product?.id)}openDetailsDialog(e){e.stopPropagation(),this.dialog.open(ht.c,{data:{title:this.product?.name,content:this.product?.description,imageMeta:{src:this.product?.images[0].src}},width:"60vw",height:"70vh",maxWidth:"800px",maxHeight:"800px",minWidth:"350px"})}}return r=a,(0,i.A)(a,"\u0275fac",function(e){return new(e||r)(t.rXU(bt.j))}),(0,i.A)(a,"\u0275cmp",t.VBU({type:r,selectors:[["product"]],inputs:{product:"product",selectedProductId:"selectedProductId"},outputs:{productSelected:"productSelected"},features:[t.OA$],decls:2,vars:1,consts:[[1,"card-container"],["matTooltipHideDelay","200","matTooltipShowDelay","100","tabindex","0",1,"product-card",3,"ngClass","matTooltip","matTooltipPosition"],["matTooltipHideDelay","200","matTooltipShowDelay","100","tabindex","0",1,"product-card",3,"click","keydown","ngClass","matTooltip","matTooltipPosition"],[3,"product"],["sizes","(max-width: 600px) 100vw, (max-width: 1024px) 80vw, 1728px",1,"product-image",3,"src","srcset","alt"],[1,"product-title"],["mat-raised-button","",1,"select-button",3,"click"]],template:function(e,o){1&e&&(t.j41(0,"div",0),t.DNE(1,xt,7,10,"mat-card",1),t.k0s()),2&e&&(t.R7$(),t.vxM(o.product?1:-1))},dependencies:[pt,G,gt.MY,l.D,l.E,f.a,f.M,u.h,u.M,_t],styles:["[_nghost-%COMP%]{width:100%;height:100%}.card-container[_ngcontent-%COMP%]{width:100%}  .product-card{flex:1 1 auto;min-height:0;min-width:0;display:block;flex-direction:column;width:100%;height:100%;transition:all .3s ease;box-shadow:0 2px 4px #0000001a;justify-content:space-between;touch-action:auto;cursor:pointer}  .product-card:hover{transform:translateY(-5px);box-shadow:0 4px 8px #00000080}  .product-card.selected{background:linear-gradient(135deg,#6bf7f7,#0056b3);color:#fff}@media (min-width: 700px){  .product-card{padding:1rem}}.product-image[_ngcontent-%COMP%]{width:100%;height:auto;max-height:200px;object-fit:contain;display:block;margin-bottom:12px;border-radius:.5rem;box-shadow:0 1px 2px #0000000d}@media (max-width: 700px){.product-image[_ngcontent-%COMP%]{padding:.5rem 1rem}}.product-title[_ngcontent-%COMP%]{text-align:center;margin:12px 0;font-size:1rem;font-weight:700;width:100%;overflow:hidden;word-wrap:break-word;box-sizing:border-box}@media (max-width: 700px){.product-title[_ngcontent-%COMP%]{font-size:.9rem;margin:0}}@media (max-width: 700px){.select-button[_ngcontent-%COMP%]{min-width:unset!important}}"]})),a})();var m=s(57237),R=s(52619),$=s(50081),yt=s(85675),St=s(27333);let Pt=(()=>{var r;class a{constructor(){(0,i.A)(this,"isTouchDevice$",new St.t(!1)),(0,i.A)(this,"touchMediaQuery",void 0),this.touchMediaQuery=window.matchMedia("(pointer: coarse)"),this.detectTouchDevice(),this.touchMediaQuery.addEventListener("change",this.detectTouchDevice.bind(this))}detectTouchDevice(){this.isTouchDevice$.next(this.touchMediaQuery.matches)}get isTouchDevice(){return this.isTouchDevice$.asObservable()}ngOnDestroy(){this.touchMediaQuery.removeEventListener("change",this.detectTouchDevice.bind(this))}}return r=a,(0,i.A)(a,"\u0275fac",function(e){return new(e||r)}),(0,i.A)(a,"\u0275prov",t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})),a})();var B=s(80382),V=s(34658);function At(r,a){1&r&&(t.nrm(0,"div",3),t.nI1(1,"safeHtml")),2&r&&t.Y8G("innerHTML",t.bMT(1,1,a),t.npT)}function kt(r,a){1&r&&(t.j41(0,"mat-error"),t.EFF(1," Die Best\xe4tigung ist erforderlich. "),t.k0s())}function Dt(r,a){if(1&r&&t.nrm(0,"textarea",11),2&r){const n=t.XpG();t.Y8G("placeholder",n.disclaimer().textbox_content)}}let wt=(()=>{var r;class a{constructor(e){(0,i.A)(this,"fb",void 0),(0,i.A)(this,"formG",void 0),(0,i.A)(this,"deviceService",(0,t.WQX)(Pt)),(0,i.A)(this,"lsService",(0,t.WQX)(V.s)),(0,i.A)(this,"disclaimer",t.hFB.required()),(0,i.A)(this,"currentStore",(0,t.vPA)(this.lsService.getItem(m.e.DISC_STATE)??{})),(0,i.A)(this,"product",t.hFB.required()),(0,i.A)(this,"abortDisclaimer",new t.bkB),(0,i.A)(this,"submitDisclaimer",new t.bkB),(0,i.A)(this,"destroy$",new h.B),this.fb=e,(0,t.QZP)(()=>{this.formG.controls.understood.setValue(!1),this.formG.controls.experience.setValue((0,B.P)(this.currentStore(),this.product().sku)?.experience),this.formG.controls.understood.markAllAsTouched()})}ngOnInit(){this.deviceService.isTouchDevice.pipe((0,p.Q)(this.destroy$)).subscribe(e=>{document.body.style.overflow=e?"hidden":""}),this.formG=this.fb.group({understood:new c.MJ(!1,{nonNullable:!0,validators:[c.k0.requiredTrue]}),experience:new c.MJ(void 0,{nonNullable:!0,validators:[c.k0.maxLength(300)]})})}ngOnDestroy(){document.body.style.overflow="",this.destroy$.next(),this.destroy$.complete()}onSubmit(){if(this.formG.valid){const e=this.currentStore()||{};this.lsService.setItem(m.e.DISC_STATE,Object.assign(e,{[this.product().sku]:this.formG.value})),this.submitDisclaimer.emit(!0)}}onClose(e){e.stopPropagation();const o=this.currentStore()||{};this.formG.reset(),this.lsService.setItem(m.e.DISC_STATE,Object.assign(o,{[this.product().sku]:this.formG.value})),this.abortDisclaimer.emit()}hasError(e,o){return e.hasError(o)&&e.touched}get understood(){return this.formG.controls.understood}}return r=a,(0,i.A)(a,"\u0275fac",function(e){return new(e||r)(t.rXU(c.ok))}),(0,i.A)(a,"\u0275cmp",t.VBU({type:r,selectors:[["app-disclaimer"]],inputs:{disclaimer:[1,"disclaimer"],product:[1,"product"]},outputs:{abortDisclaimer:"abortDisclaimer",submitDisclaimer:"submitDisclaimer"},decls:20,vars:5,consts:[["tabindex","-2",1,"disclaimer-container"],[1,"billing_address",3,"ngSubmit","formGroup"],[1,"disclaimer-content"],[1,"disclaimer-text",3,"innerHTML"],[1,"disclaimer-checkbox"],["formControlName","understood","labelPosition","after"],[4,"ngIf"],["id","experience","formControlName","experience","rows","4","maxlength","300",3,"placeholder",4,"ngIf"],[1,"button-section"],["mat-raised-button","","type","submit",1,"slimline","submit-button",3,"disabled"],["mat-raised-button","","type","button",1,"slimline",3,"click"],["id","experience","formControlName","experience","rows","4","maxlength","300",3,"placeholder"]],template:function(e,o){if(1&e&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return o.onSubmit()}),t.j41(2,"div",2)(3,"h4"),t.EFF(4,"Disclaimer:"),t.k0s(),t.DNE(5,At,2,3,"div",3),t.j41(6,"div",4),t.nrm(7,"mat-checkbox",5),t.EFF(8," Ich habe den Hinweis verstanden "),t.DNE(9,kt,2,0,"mat-error",6),t.k0s(),t.DNE(10,Dt,1,1,"textarea",7),t.j41(11,"div",8)(12,"button",9)(13,"mat-icon"),t.EFF(14,"check"),t.k0s(),t.EFF(15," OK "),t.k0s(),t.j41(16,"button",10),t.bIt("click",function(g){return o.onClose(g)}),t.j41(17,"mat-icon"),t.EFF(18,"close"),t.k0s(),t.EFF(19," Lieber nicht "),t.k0s()()()()()),2&e){let d,g;t.R7$(),t.Y8G("formGroup",o.formG),t.R7$(4),t.vxM((d=o.disclaimer().content)?5:-1,d),t.R7$(4),t.Y8G("ngIf",o.hasError(o.understood,"required")),t.R7$(),t.Y8G("ngIf",null==(g=o.disclaimer())?null:g.textbox_content),t.R7$(2),t.Y8G("disabled",o.formG.invalid)}},dependencies:[l.D,l.I,c.X1,c.qT,c.me,c.BC,c.cb,c.tU,c.j4,c.JD,u.h,u.M,b.d,A.M,$.g7,$.So,x.$,yt.d],styles:[".disclaimer-container[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;min-height:min(20vh,150px);max-height:80vh;background-color:#f5f5f5;padding:.5rem 10vw;box-shadow:0 4px 8px #00000080;z-index:999;box-sizing:border-box;display:block;overflow-y:scroll;touch-action:auto}@media (max-width: 700px){.disclaimer-container[_ngcontent-%COMP%]{min-height:min(40vh,300px);padding:.2rem}}@media (max-width: 1000px){.disclaimer-container[_ngcontent-%COMP%]{padding:.5rem}}.disclaimer-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;width:100%;height:auto;margin:auto;padding:.5rem;border:1px solid #e0e0e0;border-radius:5px;background-color:#fff7f7;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.disclaimer-text[_ngcontent-%COMP%]{display:block;width:100%}.disclaimer-checkbox[_ngcontent-%COMP%]{display:flex;justify-content:left;align-items:center;width:100%;gap:.5rem;margin-bottom:.5rem}.button-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-top:.5rem}textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border-radius:5px;border:1px solid #ccc;font-size:.8rem;resize:none;margin:.5rem auto}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}"],changeDetection:0})),a})();function It(r,a){1&r&&(t.j41(0,"div"),t.nrm(1,"mat-progress-bar",9),t.k0s())}function Ot(r,a){if(1&r){const n=t.RV6();t.j41(0,"div",10)(1,"product",11),t.bIt("productSelected",function(o){t.eBV(n);const d=t.XpG();return t.Njj(d.onProductSelected(o))}),t.k0s()()}if(2&r){const n=a.$implicit,e=t.XpG();t.R7$(),t.Y8G("product",n)("selectedProductId",e.currentSelectedId)}}function Tt(r,a){if(1&r){const n=t.RV6();t.j41(0,"app-disclaimer",13),t.bIt("abortDisclaimer",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.onCloseDisclaimer())})("submitDisclaimer",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.onDisclaimerSubmit())}),t.k0s()}if(2&r){const n=a.ngIf,e=t.XpG();t.Y8G("disclaimer",e)("product",n)}}function Ft(r,a){if(1&r&&t.DNE(0,Tt,1,2,"app-disclaimer",12),2&r){const n=t.XpG();t.Y8G("ngIf",a.content&&n.showDisclaimer&&n.selectedProduct())}}function Et(r,a){if(1&r&&t.nrm(0,"app-product-details",7),2&r){const n=t.XpG();t.Y8G("product",a)("isProductVariable",!n.currentSelectedSingle)("productVariations",n.selectedProductVariations())("crossSaleItems",n.crossSaleProducts())}}function Gt(r,a){1&r&&(t.j41(0,"div",14),t.nrm(1,"mat-spinner",15),t.k0s()),2&r&&(t.R7$(),t.Y8G("diameter",35))}let Rt=(()=>{var r;class a{constructor(){(0,i.A)(this,"mappingService",(0,t.WQX)(ot.M)),(0,i.A)(this,"errorService",(0,t.WQX)(w.I)),(0,i.A)(this,"wcStore",(0,t.WQX)(I.q)),(0,i.A)(this,"lsService",(0,t.WQX)(V.s)),(0,i.A)(this,"listVariations",["instock"]),(0,i.A)(this,"currentSelectedId",void 0),(0,i.A)(this,"currentSelectedSingle",void 0),(0,i.A)(this,"currentSelectedSKU",void 0),(0,i.A)(this,"showDisclaimer",!0),(0,i.A)(this,"viewLoading",!0),(0,i.A)(this,"productsLoading",(0,t.vPA)(!1)),(0,i.A)(this,"destroy$",new h.B),(0,i.A)(this,"selectedProductId$",this.lsService.getItem$(m.e.PRD_SEL_ID)),(0,i.A)(this,"products",(0,t.vPA)([])),(0,i.A)(this,"crossSaleProducts",(0,t.vPA)([])),(0,i.A)(this,"selectedProduct",(0,t.vPA)(void 0)),(0,i.A)(this,"selectedProductVariations",(0,t.vPA)([])),(0,i.A)(this,"selectedProdDisclaimer",(0,t.EWP)(()=>{const e=this.selectedProduct();return e?(0,B.K)(e):void 0})),(0,i.A)(this,"singleProductSet",(0,t.EWP)(()=>new Set(this.products().filter(e=>e.type!==C.VARIABLE).map(e=>e.id))))}ngAfterViewInit(){this.viewLoading=!1}ngOnInit(){this.queryCrossSaleOptions(),this.initProducts().subscribe(e=>{const o=e.map(d=>this.mappingService.mapProduct(d));this.products.set(o),this.selectedProductId$.pipe((0,p.Q)(this.destroy$)).subscribe(d=>{this.selectedProductVariations.set([]),this.showDisclaimer=!0,this.currentSelectedId=d,this.currentSelectedSingle=void 0!==d&&this.singleProductSet().has(d),this.selectProduct(d)})})}queryCrossSaleOptions(){this.productsLoading.set(!0),this.wcStore.listProducts(S.jN,"price").pipe((0,_.W)(e=>(this.errorService.handleError(e),(0,v.$)(()=>e))),(0,p.Q)(this.destroy$)).subscribe(e=>{this.crossSaleProducts.set(e),this.productsLoading.set(!1)})}getSelectedProduct(e){return this.products().find(o=>o.id===e)}selectProduct(e){this.selectedProduct.set(this.getSelectedProduct(e)),e&&(this.productsLoading.set(!0),this.currentSelectedSingle?this.productsLoading.set(!1):this.wcStore.listProductVariations(e,this.listVariations).pipe((0,p.Q)(this.destroy$),(0,_.W)(o=>(this.productsLoading.set(!1),this.errorService.handleError(o),(0,v.$)(()=>o)))).subscribe(o=>{this.selectedProductVariations.set(o.length>0?o:[]),this.productsLoading.set(!1)}))}get getProductCat(){return this.lsService.getItem(m.e.USER_PRODUCT_CAT)??22}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onProductSelected(e){null===e?(this.selectedProduct.set(void 0),this.lsService.removeItem(m.e.PRD_SEL_ID)):this.lsService.setItem(m.e.PRD_SEL_ID,e)}onCloseDisclaimer(){this.lsService.removeItem(m.e.PRD_SEL_ID)}onDisclaimerSubmit(){this.showDisclaimer=!1}initProducts(){return this.wcStore.listProducts(this.getProductCat).pipe((0,p.Q)(this.destroy$),(0,_.W)(e=>(this.productsLoading.set(!1),this.errorService.handleError(e),(0,v.$)(()=>e))))}}return r=a,(0,i.A)(a,"\u0275fac",function(e){return new(e||r)}),(0,i.A)(a,"\u0275cmp",t.VBU({type:r,selectors:[["app-tickets"]],decls:11,vars:5,consts:[[1,"ticket-container"],[1,"ticket-header"],[4,"ngIf"],[1,"product-container"],[1,"product-grid"],["class","product-grid-item",4,"ngFor","ngForOf"],[3,"disclaimer","product"],[3,"product","isProductVariable","productVariations","crossSaleItems"],["class","fixed-spinner",4,"ngIf"],["mode","query"],[1,"product-grid-item"],[3,"productSelected","product","selectedProductId"],[3,"disclaimer","product","abortDisclaimer","submitDisclaimer",4,"ngIf"],[3,"abortDisclaimer","submitDisclaimer","disclaimer","product"],[1,"fixed-spinner"],[3,"diameter"]],template:function(e,o){if(1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3,"Schichten"),t.k0s()(),t.DNE(4,It,2,0,"div",2),t.j41(5,"div",3)(6,"div",4),t.DNE(7,Ot,2,2,"div",5),t.k0s(),t.DNE(8,Ft,1,1,"app-disclaimer",6)(9,Et,1,4,"app-product-details",7),t.k0s()(),t.DNE(10,Gt,2,1,"div",8)),2&e){let d,g;t.R7$(4),t.Y8G("ngIf",o.viewLoading),t.R7$(3),t.Y8G("ngForOf",o.products()),t.R7$(),t.vxM((d=o.selectedProdDisclaimer())?8:-1,d),t.R7$(),t.vxM((g=o.selectedProduct())?9:-1,g),t.R7$(),t.Y8G("ngIf",o.productsLoading())}},dependencies:[j.Fe,it,Mt,R.D6,R.LG,E,T,l.D,l.G,l.I,wt,u.h],styles:["[_nghost-%COMP%]{width:100%;margin-bottom:30px}.ticket-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;width:100%;max-width:min(90vw,1200px);touch-action:auto;margin:auto;padding-bottom:90px}@media (max-width: 700px){.ticket-container[_ngcontent-%COMP%]{padding-bottom:200px}}.ticket-container__content[_ngcontent-%COMP%]{flex:1 0 auto;width:100%}.ticket-container__footer[_ngcontent-%COMP%]{flex-shrink:0}.ticket-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;text-align:center}h1[_ngcontent-%COMP%]{margin-bottom:2rem;border-bottom:2px solid rgba(44,24,16,.3);text-shadow:1px 1px 2px rgba(0,0,0,.1);width:100%;position:relative;z-index:1}.product-container[_ngcontent-%COMP%]{width:100%;height:auto;box-sizing:auto}.product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:30px;width:100%}@media (max-width: 1200px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:25px}}@media (max-width: 1000px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:20px}}@media (max-width: 700px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:15px}}@media (max-width: 400px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:10px}}@media (max-width: 300px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);gap:10px}}.product-grid-item[_ngcontent-%COMP%]{width:100%}"],changeDetection:0})),a})()}}]);