"use strict";(self.webpackChunkkonfusius=self.webpackChunkkonfusius||[]).push([[543],{67543:(E,l,o)=>{o.r(l),o.d(l,{LoginComponent:()=>h});var g=o(71303),r=o(98244),n=o(73426),u=o(70300),p=o(30925),m=o(55493),d=o(35023),_=o(55200),a=o(44535);function f(e,M){if(1&e&&(r.j41(0,"mat-error"),r.EFF(1),r.k0s()),2&e){const t=r.XpG();r.R7$(),r.SpI(" ",t.errorMessage," ")}}let h=(()=>{class e{constructor(){this.authService=(0,r.WQX)(_.u),this.fb=(0,r.WQX)(n.ze),this.router=(0,r.WQX)(d.t),this.route=(0,r.WQX)(d.x),this.redirectUrl=null,this.loginForm=this.fb.group({password:new n.MJ("",[n.k0.required,this.passwordValidator.bind(this)]),remember:[!0]})}ngOnInit(){this.redirectUrl=this.route.snapshot.queryParamMap.get("redirect"),this.loginForm.controls.password.markAsTouched()}passwordValidator(t){return null}get errorMessage(){const t=this.loginForm.get("password");return t?.hasError("required")?"Passwort ist erforderlich":t?.hasError("incorrect")?"Falsches Passwort":""}updateErrorMessage(){}onInput(){this.loginForm.controls.password.markAsTouched()}onSubmit(){const t=this.loginForm.get("password")?.value;this.authService.login(t)?this.router.navigate([this.redirectUrl?this.redirectUrl:"/"]):(this.loginForm.get("password")?.setErrors({incorrect:!0}),this.loginForm.controls.password.markAsTouched())}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275cmp=r.VBU({type:e,selectors:[["app-login"]],decls:11,vars:3,consts:[[1,"login-form"],["autocomplete","on",3,"ngSubmit","formGroup"],[1,"image-container"],["src","./public/schweini_1.png","alt","Logo",1,"form-field-image"],["appearance","fill"],["matInput","","type","password","formControlName","password","autocomplete","current-password","required","",3,"input","blur"],[4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(s,i){1&s&&(r.j41(0,"div",0)(1,"form",1),r.bIt("ngSubmit",function(){return i.onSubmit()}),r.j41(2,"div",2),r.nrm(3,"img",3),r.k0s(),r.j41(4,"mat-form-field",4)(5,"mat-label"),r.EFF(6,"Passwort"),r.k0s(),r.j41(7,"input",5),r.bIt("input",function(){return i.onInput()})("blur",function(){return i.updateErrorMessage()}),r.k0s(),r.DNE(8,f,2,1,"mat-error",6),r.k0s(),r.j41(9,"button",7),r.EFF(10," Anmelden "),r.k0s()()()),2&s&&(r.R7$(),r.Y8G("formGroup",i.loginForm),r.R7$(7),r.Y8G("ngIf",i.loginForm.controls.password.invalid&&i.loginForm.controls.password.touched),r.R7$(),r.Y8G("disabled",!i.loginForm.touched))},dependencies:[p.M,a.k,a.b,a.d,n.X1,n.qT,n.me,n.BC,n.cb,n.YS,n.j4,n.JD,m.fS,m.fg,u.h,u.M,g.I],styles:[".login-form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:auto;padding:1rem}.image-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding:1.5rem}.form-field-image[_ngcontent-%COMP%]{display:block;height:auto;width:100%;border-radius:5%}form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 4px 8px #0000001a;width:100%;max-width:400px}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1.5rem}button[_ngcontent-%COMP%]{width:100%;padding:.8rem;font-size:1rem;border-radius:4px;border:2px solid #007bff;background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#007bff}mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1rem}"]})}}return e})()}}]);